<!DOCTYPE html>
<html  lang="en">
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>第2章 EndPoint設計與請求形式 · 摳Sense讀書會筆記</title>
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="twitter:card" content="summary_large_image">
<meta property="og:image" content="https://user-images.githubusercontent.com/904724/185365452-87b7ca7b-6030-4813-a2db-5e65c785bf88.png">
<meta property="og:title" content="第2章 EndPoint設計與請求形式">
<meta name="description" content="第2章 EndPoint設計與請求形式">
<meta property="og:description" content="第2章 EndPoint設計與請求形式">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/code-study-test/web-api/chapter2/_payload.json">
<link rel="stylesheet" href="/code-study-test/_nuxt/entry.42e6cc6f.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/DocumentDrivenNotFound.7238633c.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ButtonLink.c4905621.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/default.5a5d2a52.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseCodeInline.21ce328c.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/Alert.408d0512.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseA.e2976377.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/DocsPrevNext.0d80e373.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/DocsToc.855ff635.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/DocsTocLinks.310b9647.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseH2.df45a763.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseP.945916cd.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseUl.c9c63ec7.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseLi.ac05b421.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseH4.5b64d6f8.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseBlockquote.87ef1443.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseStrong.263d77e1.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseOl.5ddab164.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProsePre.e63e49c6.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseCode.60d59d51.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseTable.c65fbffe.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseThead.332c0b8a.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseTr.65bec588.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseTh.cb34fc46.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseTd.b09a068a.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseH3.88c2d983.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseEm.26a085fc.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseImg.018721e2.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseH6.56de6cba.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseHr.c7c78bbe.css">
<link rel="stylesheet" href="/code-study-test/_nuxt/ProseH5.79b89231.css">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/entry.1c85e189.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/document-driven.8c70af01.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/DocumentDrivenEmpty.467d91b7.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ContentRenderer.4fbf8670.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ContentRendererMarkdown.vue.d728dd0f.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/DocumentDrivenNotFound.88b22df5.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ButtonLink.a6bea0e5.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/slot.df5fa4c2.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/node.676c5e99.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/default.5a8ee925.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseCodeInline.f552afe3.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/Alert.9073b2ea.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseA.8b7184d3.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/EditOnLink.vue.34779802.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/DocsPrevNext.861aec0b.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/DocsToc.d083fc8f.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/DocsTocLinks.76162b65.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ContentRendererMarkdown.c69b5480.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseH2.0d398856.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseP.2f743b5c.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseUl.2a81989d.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseLi.82abf616.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseH4.c8173471.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseBlockquote.af251795.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseStrong.fad9eda3.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseOl.e9527fd9.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProsePre.becc7391.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseCode.0928770e.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseTable.fa0d2faf.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseThead.870e8c86.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseTr.ba503f7a.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseTh.14841a7b.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseTbody.85813130.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseTd.08c7d12a.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseH3.20802011.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseEm.d44d5779.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseImg.4dd6ed73.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseH6.3a873c68.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseHr.0599d079.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study-test/_nuxt/ProseH5.ecb5b741.js">
<link rel="prefetch" as="style" href="/code-study-test/_nuxt/page.41b64923.css">
<link rel="prefetch" as="script" crossorigin href="/code-study-test/_nuxt/page.b4cbae02.js">
<link rel="prefetch" as="style" href="/code-study-test/_nuxt/useStudio.37ff8fdd.css">
<link rel="prefetch" as="script" crossorigin href="/code-study-test/_nuxt/useStudio.a9f2dbfe.js">
<link rel="prefetch" as="script" crossorigin href="/code-study-test/_nuxt/debug.ffa46ece.js">
<link rel="prefetch" as="script" crossorigin href="/code-study-test/_nuxt/client-db.57887956.js">
<link rel="prefetch" as="style" href="/code-study-test/_nuxt/error-404.e7689c2d.css">
<link rel="prefetch" as="script" crossorigin href="/code-study-test/_nuxt/error-404.d7f1fc88.js">
<link rel="prefetch" as="style" href="/code-study-test/_nuxt/error-500.92b46a75.css">
<link rel="prefetch" as="script" crossorigin href="/code-study-test/_nuxt/error-500.438dc35a.js">
<script type="module" src="/code-study-test/_nuxt/entry.1c85e189.js" crossorigin></script><style id="pinceau-runtime-hydratable">@media{.phy[--]{--puid:--ttuR-v;}.pv-epicPN{padding-left:var(--elements-container-padding-mobile);padding-right:var(--elements-container-padding-mobile);}@media (min-width: 475px){.pv-epicPN{padding-left:var(--elements-container-padding-xs);padding-right:var(--elements-container-padding-xs);}}@media (min-width: 640px){.pv-epicPN{padding-left:var(--elements-container-padding-sm);padding-right:var(--elements-container-padding-sm);}}@media (min-width: 768px){.pv-epicPN{padding-left:var(--elements-container-padding-md);padding-right:var(--elements-container-padding-md);}}} </style><style id="pinceau-theme">@media { :root {--pinceau-mq: initial; --docus-search-results-highlight-color: white;--docus-search-results-window-maxHeight: 100%;--docus-search-results-window-maxWidth: 640px;--docus-search-results-window-marginTop: 0;--docus-search-input-borderStyle: solid;--docus-search-input-borderWidth: 1px;--docus-search-backdropFilter: blur(24px);--docus-loadingBar-gradientColorStop3: #0047e1;--docus-loadingBar-gradientColorStop2: #34cdfe;--docus-loadingBar-gradientColorStop1: #00dc82;--docus-loadingBar-height: 3px;--docus-readableLine: 78ch;--docus-footer-height: 145px;--docus-header-height: 64px;--prose-code-inline-padding: 0.2rem 0.375rem 0.2rem 0.375rem;--prose-code-block-backdropFilter: contrast(1);--prose-code-block-border-style: solid;--prose-code-block-border-width: 1px;--prose-tbody-tr-borderBottom-style: dashed;--prose-tbody-tr-borderBottom-width: 1px;--prose-th-textAlign: inherit;--prose-thead-borderBottom-style: solid;--prose-thead-borderBottom-width: 1px;--prose-thead-border-style: solid;--prose-thead-border-width: 0px;--prose-table-textAlign: start;--prose-hr-width: 1px;--prose-hr-style: solid;--prose-li-listStylePosition: outside;--prose-ol-li-markerColor: currentColor;--prose-ol-paddingInlineStart: 21px;--prose-ol-listStyleType: decimal;--prose-ul-li-markerColor: currentColor;--prose-ul-paddingInlineStart: 21px;--prose-ul-listStyleType: disc;--prose-blockquote-border-style: solid;--prose-blockquote-border-width: 4px;--prose-blockquote-quotes: '201C' '201D' '2018' '2019';--prose-blockquote-paddingInlineStart: 24px;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-hasCode-borderBottom: none;--prose-a-border-distance: 2px;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-border-style-hover: solid;--prose-a-border-style-static: dashed;--prose-a-border-width: 1px;--prose-a-color-static: inherit;--prose-a-textDecoration: none;--prose-h6-margin: 3rem 0 2rem;--prose-h5-margin: 3rem 0 2rem;--prose-h4-margin: 3rem 0 2rem;--prose-h3-margin: 3rem 0 2rem;--prose-h2-margin: 3rem 0 2rem;--prose-h1-margin: 0 0 2rem;--typography-lead-loose: 2;--typography-lead-relaxed: 1.625;--typography-lead-normal: 1.5;--typography-lead-snug: 1.375;--typography-lead-tight: 1.25;--typography-lead-none: 1;--typography-lead-10: 2.5rem;--typography-lead-9: 2.25rem;--typography-lead-8: 2rem;--typography-lead-7: 1.75rem;--typography-lead-6: 1.5rem;--typography-lead-5: 1.25rem;--typography-lead-4: 1rem;--typography-lead-3: .75rem;--typography-lead-2: .5rem;--typography-lead-1: .025rem;--typography-fontWeight-black: 900;--typography-fontWeight-extrabold: 800;--typography-fontWeight-bold: 700;--typography-fontWeight-semibold: 600;--typography-fontWeight-medium: 500;--typography-fontWeight-normal: 400;--typography-fontWeight-light: 300;--typography-fontWeight-extralight: 200;--typography-fontWeight-thin: 100;--typography-fontSize-9xl: 128px;--typography-fontSize-8xl: 96px;--typography-fontSize-7xl: 72px;--typography-fontSize-6xl: 60px;--typography-fontSize-5xl: 48px;--typography-fontSize-4xl: 36px;--typography-fontSize-3xl: 30px;--typography-fontSize-2xl: 24px;--typography-fontSize-xl: 20px;--typography-fontSize-lg: 18px;--typography-fontSize-base: 16px;--typography-fontSize-sm: 14px;--typography-fontSize-xs: 12px;--typography-letterSpacing-wide: 0.025em;--typography-letterSpacing-tight: -0.025em;--typography-verticalMargin-base: 24px;--typography-verticalMargin-sm: 16px;--elements-border-secondary-hover: [object Object];--elements-backdrop-background: #fffc;--elements-backdrop-filter: saturate(200%) blur(20px);--elements-container-maxWidth: 80rem;--lead-loose: 2;--lead-relaxed: 1.625;--lead-normal: 1.5;--lead-snug: 1.375;--lead-tight: 1.25;--lead-none: 1;--lead-10: 2.5rem;--lead-9: 2.25rem;--lead-8: 2rem;--lead-7: 1.75rem;--lead-6: 1.5rem;--lead-5: 1.25rem;--lead-4: 1rem;--lead-3: .75rem;--lead-2: .5rem;--lead-1: .025rem;--letterSpacing-widest: 0.1em;--letterSpacing-wider: 0.05em;--letterSpacing-wide: 0.025em;--letterSpacing-normal: 0em;--letterSpacing-tight: -0.025em;--letterSpacing-tighter: -0.05em;--fontSize-9xl: 8rem;--fontSize-8xl: 6rem;--fontSize-7xl: 4.5rem;--fontSize-6xl: 3.75rem;--fontSize-5xl: 3rem;--fontSize-4xl: 2.25rem;--fontSize-3xl: 1.875rem;--fontSize-2xl: 1.5rem;--fontSize-xl: 1.25rem;--fontSize-lg: 1.125rem;--fontSize-base: 1rem;--fontSize-sm: 0.875rem;--fontSize-xs: 0.75rem;--fontWeight-black: 900;--fontWeight-extrabold: 800;--fontWeight-bold: 700;--fontWeight-semibold: 600;--fontWeight-medium: 500;--fontWeight-normal: 400;--fontWeight-light: 300;--fontWeight-extralight: 200;--fontWeight-thin: 100;--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--font-serif: ui-serif, Georgia, Cambria, Times New Roman, Times, serif;--font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;--opacity-total: 1;--opacity-high: 0.8;--opacity-medium: 0.5;--opacity-soft: 0.3;--opacity-light: 0.15;--opacity-bright: 0.1;--opacity-noOpacity: 0;--borderWidth-lg: 3px;--borderWidth-md: 2px;--borderWidth-sm: 1px;--borderWidth-noBorder: 0;--space-rem-875: 0.875rem;--space-rem-625: 0.625rem;--space-rem-375: 0.375rem;--space-rem-125: 0.125rem;--space-px: 1px;--space-128: 32rem;--space-96: 24rem;--space-80: 20rem;--space-72: 18rem;--space-64: 16rem;--space-60: 15rem;--space-56: 14rem;--space-52: 13rem;--space-48: 12rem;--space-44: 11rem;--space-40: 10rem;--space-36: 9rem;--space-32: 8rem;--space-28: 7rem;--space-24: 6rem;--space-20: 5rem;--space-16: 4rem;--space-14: 3.5rem;--space-12: 3rem;--space-11: 2.75rem;--space-10: 2.5rem;--space-9: 2.25rem;--space-8: 2rem;--space-7: 1.75rem;--space-6: 1.5rem;--space-5: 1.25rem;--space-4: 1rem;--space-3: 0.75rem;--space-2: 0.5rem;--space-1: 0.25rem;--space-0: 0px;--size-full: 100%;--size-7xl: 80rem;--size-6xl: 72rem;--size-5xl: 64rem;--size-4xl: 56rem;--size-3xl: 48rem;--size-2xl: 42rem;--size-xl: 36rem;--size-lg: 32rem;--size-md: 28rem;--size-sm: 24rem;--size-xs: 20rem;--size-200: 200px;--size-104: 104px;--size-80: 80px;--size-64: 64px;--size-56: 56px;--size-48: 48px;--size-40: 40px;--size-32: 32px;--size-24: 24px;--size-20: 20px;--size-16: 16px;--size-12: 12px;--size-8: 8px;--size-6: 6px;--size-4: 4px;--size-2: 2px;--size-0: 0px;--radii-full: 9999px;--radii-3xl: 1.75rem;--radii-2xl: 1.5rem;--radii-xl: 1rem;--radii-lg: 0.75rem;--radii-md: 0.5rem;--radii-sm: 0.375rem;--radii-xs: 0.25rem;--radii-2xs: 0.125rem;--radii-none: 0px;--shadow-none: 0px 0px 0px 0px transparent;--height-screen: 100vh;--width-screen: 100vw;--color-primary-900: #001A1F;--color-primary-800: #00232B;--color-primary-700: #024757;--color-primary-600: #09A0C1;--color-primary-500: #1AD6FF;--color-primary-400: #55E1FF;--color-primary-300: #82E3FF;--color-primary-200: #C5F2FF;--color-primary-100: #DCF7FF;--color-primary-50: #F1FCFF;--color-ruby-900: #380011;--color-ruby-800: #700021;--color-ruby-700: #a90032;--color-ruby-600: #e10043;--color-ruby-500: #ff1a5e;--color-ruby-400: #ff4079;--color-ruby-300: #ff6694;--color-ruby-200: #ff8dae;--color-ruby-100: #ffb3c9;--color-ruby-50: #ffd9e4;--color-pink-900: #380025;--color-pink-800: #70004b;--color-pink-700: #a90070;--color-pink-600: #e10095;--color-pink-500: #ff1ab2;--color-pink-400: #ff40bf;--color-pink-300: #ff66cc;--color-pink-200: #ff8dd8;--color-pink-100: #ffb3e5;--color-pink-50: #ffd9f2;--color-purple-900: #190038;--color-purple-800: #330070;--color-purple-700: #4c00a9;--color-purple-600: #6500e1;--color-purple-500: #811aff;--color-purple-400: #9640ff;--color-purple-300: #ab66ff;--color-purple-200: #c08dff;--color-purple-100: #d5b3ff;--color-purple-50: #ead9ff;--color-royalblue-900: #0b0531;--color-royalblue-800: #160a62;--color-royalblue-700: #211093;--color-royalblue-600: #2c15c4;--color-royalblue-500: #4127e8;--color-royalblue-400: #614bec;--color-royalblue-300: #806ff0;--color-royalblue-200: #a093f3;--color-royalblue-100: #c0b7f7;--color-royalblue-50: #dfdbfb;--color-indigoblue-900: #001238;--color-indigoblue-800: #002370;--color-indigoblue-700: #0035a9;--color-indigoblue-600: #0047e1;--color-indigoblue-500: #1a62ff;--color-indigoblue-400: #407cff;--color-indigoblue-300: #6696ff;--color-indigoblue-200: #8db0ff;--color-indigoblue-100: #b3cbff;--color-indigoblue-50: #d9e5ff;--color-blue-900: #00131D;--color-blue-800: #002235;--color-blue-700: #014267;--color-blue-600: #0069A6;--color-blue-500: #1AADFF;--color-blue-400: #64C7FF;--color-blue-300: #A1DDFF;--color-blue-200: #C6EAFF;--color-blue-100: #DFF3FF;--color-blue-50: #F2FAFF;--color-lightblue-900: #002e38;--color-lightblue-800: #005c70;--color-lightblue-700: #008aa9;--color-lightblue-600: #00b9e1;--color-lightblue-500: #1ad6ff;--color-lightblue-400: #40ddff;--color-lightblue-300: #66e4ff;--color-lightblue-200: #8deaff;--color-lightblue-100: #b3f1ff;--color-lightblue-50: #d9f8ff;--color-teal-900: #062a28;--color-teal-800: #0b544f;--color-teal-700: #117d77;--color-teal-600: #16a79e;--color-teal-500: #1cd1c6;--color-teal-400: #36e4da;--color-teal-300: #5fe9e1;--color-teal-200: #87efe9;--color-teal-100: #aff4f0;--color-teal-50: #d7faf8;--color-pear-900: #2a2b09;--color-pear-800: #545512;--color-pear-700: #7e801b;--color-pear-600: #a8aa24;--color-pear-500: #d0d32f;--color-pear-400: #d8da52;--color-pear-300: #e0e274;--color-pear-200: #e8e997;--color-pear-100: #eff0ba;--color-pear-50: #f7f8dc;--color-red-900: #1C0301;--color-red-800: #340A01;--color-red-700: #701704;--color-red-600: #BB2402;--color-red-500: #FF3B10;--color-red-400: #FF7353;--color-red-300: #FFA692;--color-red-200: #FFDED7;--color-red-100: #FFF3F0;--color-red-50: #FFF9F8;--color-orange-900: #381800;--color-orange-800: #702f00;--color-orange-700: #a94700;--color-orange-600: #e15e00;--color-orange-500: #ff7a1a;--color-orange-400: #ff9040;--color-orange-300: #ffa666;--color-orange-200: #ffbd8d;--color-orange-100: #ffd3b3;--color-orange-50: #ffe9d9;--color-yellow-900: #1B1500;--color-yellow-800: #292100;--color-yellow-700: #614E02;--color-yellow-600: #CBA408;--color-yellow-500: #FBCA05;--color-yellow-400: #FFDC4E;--color-yellow-300: #FFE372;--color-yellow-200: #FFF0B1;--color-yellow-100: #FFF6D3;--color-yellow-50: #FFFCEE;--color-green-900: #00190F;--color-green-800: #002817;--color-green-700: #006037;--color-green-600: #00B467;--color-green-500: #0DD885;--color-green-400: #3CEEA5;--color-green-300: #86FBCB;--color-green-200: #C3FFE6;--color-green-100: #DEFFF1;--color-green-50: #ECFFF7;--color-gray-900: #121110;--color-gray-800: #201E1B;--color-gray-700: #36332E;--color-gray-600: #67635D;--color-gray-500: #97948F;--color-gray-400: #ADA9A4;--color-gray-300: #DBD9D3;--color-gray-200: #ECEBE8;--color-gray-100: #F6F5F4;--color-gray-50: #FBFBFB;--color-black: #0B0A0A;--color-white: #ffffff;--media-portrait: only screen and (orientation: portrait);--media-landscape: only screen and (orientation: landscape);--media-rm: (prefers-reduced-motion: reduce);--media-2xl: (min-width: 1536px);--media-xl: (min-width: 1280px);--media-lg: (min-width: 1024px);--media-md: (min-width: 768px);--media-sm: (min-width: 640px);--media-xs: (min-width: 475px);--docus-search-results-highlight-backgroundColor: var(--color-primary-500);--docus-search-results-selected-backgroundColor: var(--color-gray-300);--docus-search-results-window-borderRadius: none;--docus-search-results-window-marginX: 0;--docus-search-input-backgroundColor: var(--color-gray-200);--docus-search-input-padding: var(--space-2) var(--space-4);--docus-search-input-gap: var(--space-2);--docus-search-input-fontSize: var(--fontSize-sm);--docus-search-input-borderColor: var(--color-gray-200);--docus-search-input-borderRadius: var(--radii-2xs);--docus-footer-padding: var(--space-4) 0;--docus-header-title-color-hover: var(--color-primary-500);--docus-header-title-color-static: var(--color-gray-900);--docus-header-title-fontWeight: var(--fontWeight-bold);--docus-header-title-fontSize: var(--fontSize-2xl);--docus-header-logo-height: var(--space-6);--docus-body-fontFamily: var(--font-sans);--docus-body-color: var(--color-gray-800);--docus-body-backgroundColor: var(--color-white);--prose-code-inline-fontWeight: var(--typography-fontWeight-normal);--prose-code-inline-fontSize: var(--typography-fontSize-sm);--prose-code-inline-borderRadius: var(--radii-xs);--prose-code-block-pre-padding: var(--typography-verticalMargin-sm);--prose-code-block-margin: var(--typography-verticalMargin-base) 0;--prose-code-block-fontSize: var(--typography-fontSize-sm);--prose-tbody-code-inline-fontSize: var(--typography-fontSize-sm);--prose-tbody-td-padding: var(--typography-verticalMargin-sm);--prose-th-fontWeight: var(--typography-fontWeight-semibold);--prose-th-padding: 0 var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm);--prose-table-lineHeight: var(--typography-lead-6);--prose-table-fontSize: var(--typography-fontSize-sm);--prose-table-margin: var(--typography-verticalMargin-base) 0;--prose-hr-margin: var(--typography-verticalMargin-base) 0;--prose-li-margin: var(--typography-verticalMargin-sm) 0;--prose-ol-margin: var(--typography-verticalMargin-base) 0;--prose-ul-margin: var(--typography-verticalMargin-base) 0;--prose-blockquote-margin: var(--typography-verticalMargin-base) 0;--prose-a-code-border-style: var(--prose-a-border-style-static);--prose-a-code-border-width: var(--prose-a-border-width);--prose-a-fontWeight: var(--typography-fontWeight-medium);--prose-img-margin: var(--typography-verticalMargin-base) 0;--prose-strong-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-iconSize: var(--typography-fontSize-base);--prose-h6-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-lineHeight: var(--typography-lead-normal);--prose-h6-fontSize: var(--typography-fontSize-lg);--prose-h5-iconSize: var(--typography-fontSize-lg);--prose-h5-fontWeight: var(--typography-fontWeight-semibold);--prose-h5-lineHeight: var(--typography-lead-snug);--prose-h5-fontSize: var(--typography-fontSize-xl);--prose-h4-iconSize: var(--typography-fontSize-lg);--prose-h4-letterSpacing: var(--typography-letterSpacing-tight);--prose-h4-fontWeight: var(--typography-fontWeight-semibold);--prose-h4-lineHeight: var(--typography-lead-snug);--prose-h4-fontSize: var(--typography-fontSize-2xl);--prose-h3-iconSize: var(--typography-fontSize-xl);--prose-h3-letterSpacing: var(--typography-letterSpacing-tight);--prose-h3-fontWeight: var(--typography-fontWeight-semibold);--prose-h3-lineHeight: var(--typography-lead-snug);--prose-h3-fontSize: var(--typography-fontSize-3xl);--prose-h2-iconSize: var(--typography-fontSize-2xl);--prose-h2-letterSpacing: var(--typography-letterSpacing-tight);--prose-h2-fontWeight: var(--typography-fontWeight-semibold);--prose-h2-lineHeight: var(--typography-lead-tight);--prose-h2-fontSize: var(--typography-fontSize-4xl);--prose-h1-iconSize: var(--typography-fontSize-3xl);--prose-h1-letterSpacing: var(--typography-letterSpacing-tight);--prose-h1-fontWeight: var(--typography-fontWeight-bold);--prose-h1-lineHeight: var(--typography-lead-tight);--prose-h1-fontSize: var(--typography-fontSize-5xl);--prose-p-br-margin: var(--typography-verticalMargin-base) 0 0 0;--prose-p-margin: var(--typography-verticalMargin-base) 0;--prose-p-lineHeight: var(--typography-lead-normal);--prose-p-fontSize: var(--typography-fontSize-base);--typography-color-secondary-900: var(--color-gray-900);--typography-color-secondary-800: var(--color-gray-800);--typography-color-secondary-700: var(--color-gray-700);--typography-color-secondary-600: var(--color-gray-600);--typography-color-secondary-500: var(--color-gray-500);--typography-color-secondary-400: var(--color-gray-400);--typography-color-secondary-300: var(--color-gray-300);--typography-color-secondary-200: var(--color-gray-200);--typography-color-secondary-100: var(--color-gray-100);--typography-color-secondary-50: var(--color-gray-50);--typography-color-primary-900: var(--color-primary-900);--typography-color-primary-800: var(--color-primary-800);--typography-color-primary-700: var(--color-primary-700);--typography-color-primary-600: var(--color-primary-600);--typography-color-primary-500: var(--color-primary-500);--typography-color-primary-400: var(--color-primary-400);--typography-color-primary-300: var(--color-primary-300);--typography-color-primary-200: var(--color-primary-200);--typography-color-primary-100: var(--color-primary-100);--typography-color-primary-50: var(--color-primary-50);--typography-font-code: var(--font-mono);--typography-font-body: var(--font-sans);--typography-font-display: var(--font-sans);--typography-body-backgroundColor: var(--color-white);--typography-body-color: var(--color-black);--elements-state-danger-borderColor-secondary: var(--color-red-200);--elements-state-danger-borderColor-primary: var(--color-red-100);--elements-state-danger-backgroundColor-secondary: var(--color-red-100);--elements-state-danger-backgroundColor-primary: var(--color-red-50);--elements-state-danger-color-secondary: var(--color-red-600);--elements-state-danger-color-primary: var(--color-red-500);--elements-state-warning-borderColor-secondary: var(--color-yellow-200);--elements-state-warning-borderColor-primary: var(--color-yellow-100);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-100);--elements-state-warning-backgroundColor-primary: var(--color-yellow-50);--elements-state-warning-color-secondary: var(--color-yellow-700);--elements-state-warning-color-primary: var(--color-yellow-600);--elements-state-success-borderColor-secondary: var(--color-green-200);--elements-state-success-borderColor-primary: var(--color-green-100);--elements-state-success-backgroundColor-secondary: var(--color-green-100);--elements-state-success-backgroundColor-primary: var(--color-green-50);--elements-state-success-color-secondary: var(--color-green-600);--elements-state-success-color-primary: var(--color-green-500);--elements-state-info-borderColor-secondary: var(--color-blue-200);--elements-state-info-borderColor-primary: var(--color-blue-100);--elements-state-info-backgroundColor-secondary: var(--color-blue-100);--elements-state-info-backgroundColor-primary: var(--color-blue-50);--elements-state-info-color-secondary: var(--color-blue-600);--elements-state-info-color-primary: var(--color-blue-500);--elements-state-primary-borderColor-secondary: var(--color-primary-200);--elements-state-primary-borderColor-primary: var(--color-primary-100);--elements-state-primary-backgroundColor-secondary: var(--color-primary-100);--elements-state-primary-backgroundColor-primary: var(--color-primary-50);--elements-state-primary-color-secondary: var(--color-primary-700);--elements-state-primary-color-primary: var(--color-primary-600);--elements-surface-secondary-backgroundColor: var(--color-gray-200);--elements-surface-primary-backgroundColor: var(--color-gray-100);--elements-surface-background-base: var(--color-gray-100);--elements-border-secondary-static: var(--color-gray-200);--elements-border-primary-hover: var(--color-gray-200);--elements-border-primary-static: var(--color-gray-100);--elements-container-padding-md: var(--space-6);--elements-container-padding-sm: var(--space-6);--elements-container-padding-xs: var(--space-4);--elements-container-padding-mobile: var(--space-4);--elements-text-secondary-color-hover: var(--color-gray-700);--elements-text-secondary-color-static: var(--color-gray-500);--elements-text-primary-color-static: var(--color-gray-900);--text-6xl-lineHeight: var(--lead-none);--text-6xl-fontSize: var(--fontSize-6xl);--text-5xl-lineHeight: var(--lead-none);--text-5xl-fontSize: var(--fontSize-5xl);--text-4xl-lineHeight: var(--lead-10);--text-4xl-fontSize: var(--fontSize-4xl);--text-3xl-lineHeight: var(--lead-9);--text-3xl-fontSize: var(--fontSize-3xl);--text-2xl-lineHeight: var(--lead-8);--text-2xl-fontSize: var(--fontSize-2xl);--text-xl-lineHeight: var(--lead-7);--text-xl-fontSize: var(--fontSize-xl);--text-lg-lineHeight: var(--lead-7);--text-lg-fontSize: var(--fontSize-lg);--text-base-lineHeight: var(--lead-6);--text-base-fontSize: var(--fontSize-base);--text-sm-lineHeight: var(--lead-5);--text-sm-fontSize: var(--fontSize-sm);--text-xs-lineHeight: var(--lead-4);--text-xs-fontSize: var(--fontSize-xs);--color-shadow: var(--color-gray-400);--color-secondary-900: var(--color-gray-900);--color-secondary-800: var(--color-gray-800);--color-secondary-700: var(--color-gray-700);--color-secondary-600: var(--color-gray-600);--color-secondary-500: var(--color-gray-500);--color-secondary-400: var(--color-gray-400);--color-secondary-300: var(--color-gray-300);--color-secondary-200: var(--color-gray-200);--color-secondary-100: var(--color-gray-100);--color-secondary-50: var(--color-gray-50);--prose-code-inline-backgroundColor: var(--typography-color-secondary-100);--prose-code-inline-color: var(--typography-color-secondary-700);--prose-code-block-backgroundColor: var(--typography-color-secondary-100);--prose-code-block-color: var(--typography-color-secondary-700);--prose-code-block-border-color: var(--typography-color-secondary-200);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-200);--prose-th-color: var(--typography-color-secondary-600);--prose-thead-borderBottom-color: var(--typography-color-secondary-200);--prose-thead-border-color: var(--typography-color-secondary-300);--prose-hr-color: var(--typography-color-secondary-200);--prose-blockquote-border-color: var(--typography-color-secondary-200);--prose-blockquote-color: var(--typography-color-secondary-500);--prose-a-code-background-hover: var(--typography-color-primary-50);--prose-a-code-border-color-hover: var(--typography-color-primary-500);--prose-a-code-border-color-static: var(--typography-color-secondary-400);--prose-a-color-hover: var(--typography-color-primary-500);--shadow-2xl: 0px 25px 50px -12px var(--color-shadow);--shadow-xl: 0px 20px 25px -5px var(--color-shadow), 0px 8px 10px -6px var(--color-shadow);--shadow-lg: 0px 10px 15px -3px var(--color-shadow), 0px 4px 6px -4px var(--color-shadow);--shadow-md: 0px 4px 6px -1px var(--color-shadow), 0px 2px 4px -2px var(--color-shadow);--shadow-sm: 0px 1px 3px 0px var(--color-shadow), 0px 1px 2px -1px var(--color-shadow);--shadow-xs: 0px 1px 2px 0px var(--color-shadow); } }@media { :root.dark {--pinceau-mq: dark; --prose-code-block-backdropFilter: contrast(1);--prose-ol-li-markerColor: currentColor;--prose-ul-li-markerColor: currentColor;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-color-static: inherit;--elements-backdrop-background: #0c0d0ccc;--docus-search-results-selected-backgroundColor: var(--color-gray-700);--docus-search-input-backgroundColor: var(--color-gray-800);--docus-search-input-borderColor: transparent;--docus-header-title-color-static: var(--color-gray-100);--docus-body-color: var(--color-gray-200);--docus-body-backgroundColor: var(--color-black);--typography-body-backgroundColor: var(--color-black);--typography-body-color: var(--color-white);--elements-state-danger-borderColor-secondary: var(--color-red-700);--elements-state-danger-borderColor-primary: var(--color-red-800);--elements-state-danger-backgroundColor-secondary: var(--color-red-800);--elements-state-danger-backgroundColor-primary: var(--color-red-900);--elements-state-danger-color-secondary: var(--color-red-200);--elements-state-danger-color-primary: var(--color-red-300);--elements-state-warning-borderColor-secondary: var(--color-yellow-700);--elements-state-warning-borderColor-primary: var(--color-yellow-800);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-800);--elements-state-warning-backgroundColor-primary: var(--color-yellow-900);--elements-state-warning-color-secondary: var(--color-yellow-200);--elements-state-warning-color-primary: var(--color-yellow-400);--elements-state-success-borderColor-secondary: var(--color-green-700);--elements-state-success-borderColor-primary: var(--color-green-800);--elements-state-success-backgroundColor-secondary: var(--color-green-800);--elements-state-success-backgroundColor-primary: var(--color-green-900);--elements-state-success-color-secondary: var(--color-green-200);--elements-state-success-color-primary: var(--color-green-400);--elements-state-info-borderColor-secondary: var(--color-blue-700);--elements-state-info-borderColor-primary: var(--color-blue-800);--elements-state-info-backgroundColor-secondary: var(--color-blue-800);--elements-state-info-backgroundColor-primary: var(--color-blue-900);--elements-state-info-color-secondary: var(--color-blue-200);--elements-state-info-color-primary: var(--color-blue-400);--elements-state-primary-borderColor-secondary: var(--color-primary-700);--elements-state-primary-borderColor-primary: var(--color-primary-800);--elements-state-primary-backgroundColor-secondary: var(--color-primary-800);--elements-state-primary-backgroundColor-primary: var(--color-primary-900);--elements-state-primary-color-secondary: var(--color-primary-200);--elements-state-primary-color-primary: var(--color-primary-400);--elements-surface-secondary-backgroundColor: var(--color-gray-800);--elements-surface-primary-backgroundColor: var(--color-gray-900);--elements-surface-background-base: var(--color-gray-900);--elements-border-secondary-static: var(--color-gray-800);--elements-border-primary-hover: var(--color-gray-800);--elements-border-primary-static: var(--color-gray-900);--elements-text-secondary-color-hover: var(--color-gray-200);--elements-text-secondary-color-static: var(--color-gray-400);--elements-text-primary-color-static: var(--color-gray-50);--color-shadow: var(--color-gray-800);--prose-code-inline-backgroundColor: var(--typography-color-secondary-800);--prose-code-inline-color: var(--typography-color-secondary-200);--prose-code-block-backgroundColor: var(--typography-color-secondary-900);--prose-code-block-color: var(--typography-color-secondary-200);--prose-code-block-border-color: var(--typography-color-secondary-800);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-800);--prose-th-color: var(--typography-color-secondary-400);--prose-thead-borderBottom-color: var(--typography-color-secondary-800);--prose-thead-border-color: var(--typography-color-secondary-600);--prose-hr-color: var(--typography-color-secondary-800);--prose-blockquote-border-color: var(--typography-color-secondary-700);--prose-blockquote-color: var(--typography-color-secondary-400);--prose-a-code-background-hover: var(--typography-color-primary-900);--prose-a-code-border-color-hover: var(--typography-color-primary-600);--prose-a-code-border-color-static: var(--typography-color-secondary-600);--prose-a-color-hover: var(--typography-color-primary-400); } }@media (min-width: 640px) { :root {--pinceau-mq: sm; --docus-search-results-window-maxHeight: 320px;--docus-search-results-window-marginTop: 20vh;--docus-footer-height: 100px;--docus-search-results-window-borderRadius: var(--radii-xs);--docus-search-results-window-marginX: var(--space-4);--docus-header-logo-height: var(--space-7); } }</style><script>"use strict";(()=>{const a=window,e=document.documentElement,m=["dark","light"],c=window&&window.localStorage&&window.localStorage.getItem&&window.localStorage.getItem("nuxt-color-mode")||"system";let n=c==="system"?d():c;const l=e.getAttribute("data-color-mode-forced");l&&(n=l),i(n),a["__NUXT_COLOR_MODE__"]={preference:c,value:n,getColorScheme:d,addColorScheme:i,removeColorScheme:f};function i(o){const t=""+o+"",s="theme";e.classList?e.classList.add(t):e.className+=" "+t,s&&e.setAttribute("data-"+s,o)}function f(o){const t=""+o+"",s="theme";e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),""),s&&e.removeAttribute("data-"+s)}function r(o){return a.matchMedia("(prefers-color-scheme"+o+")")}function d(){if(a.matchMedia&&r("").media!=="not all"){for(const o of m)if(r(":"+o).matches)return o}return"light"}})();
</script></head>
<body ><!----><!--teleport anchor--><!----><!--teleport anchor--><div id="__nuxt"><div class="app-layout" data-v-5c2f7786><div class="nuxt-progress" style="width:0%;opacity:0;background-size:Infinity% auto;" data-v-5c2f7786></div><header class="has-dialog" data-v-5c2f7786 data-v-8f8d581c><div class="container pv-epicPN pc---ttuR" data-v-8f8d581c data-v-a8d7e2a7><!--[--><div class="section left" data-v-8f8d581c><!--[--><button aria-label="Menu" data-v-8fd30205><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" role="img" class="icon" data-v-8fd30205 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><!--teleport start--><!--teleport end--><!--]--><a href="/code-study-test/" class="navbar-logo" aria-label="摳Sense讀書會筆記" data-v-8f8d581c data-v-f83b7764><span class="title" data-v-f83b7764>摳Sense讀書會筆記</span></a></div><div class="section center" data-v-8f8d581c><a href="/code-study-test/" class="navbar-logo" aria-label="摳Sense讀書會筆記" data-v-8f8d581c data-v-f83b7764><span class="title" data-v-f83b7764>摳Sense讀書會筆記</span></a><!----></div><div class="section right" data-v-8f8d581c><!--[--><button type="button" aria-label="Search" data-v-98e4ee4b><span class="content" data-v-98e4ee4b><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-98e4ee4b style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21l-6-6m2-5a7 7 0 1 1-14 0a7 7 0 0 1 14 0Z"/></svg><span data-v-98e4ee4b>Search</span><span data-v-98e4ee4b><kbd data-v-98e4ee4b>⌘</kbd><kbd data-v-98e4ee4b>K</kbd></span></span></button><!--teleport start--><!--teleport end--><!--]--><button aria-label="Color Mode" data-v-8f8d581c data-v-87324333><span data-v-87324333>...</span></button><div class="social-icons" data-v-8f8d581c><!--[--><!--]--></div></div><!--]--></div></header><main data-v-5c2f7786><!--[--><div class="document-driven-page"><div class="container pv-epicPN pc--8ZzZo docs-page-content fluid has-toc has-aside" data-v-8784edc1 data-v-a8d7e2a7><!--[--><aside class="aside-nav" data-v-8784edc1><nav class="app-aside" data-v-8784edc1 data-v-3d9a5d42><ul class="docs-aside-tree" data-v-3d9a5d42 data-v-d42239fd><!--[--><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 4v12l-4-2l-4 2V4M6 20h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2Z"/></svg><span data-v-d42239fd>資料密集型應用系統設計</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/ddia/appendix00" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Appendix 00 Redis快速入門</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/ddia/appendix01" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Appendix 01 gRPC快速入門</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/ddia/chapter1" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Chapter 01 可靠性、可伸縮性和可維護性</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/ddia/chapter3" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Chapter 03 數據儲存與檢索</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/ddia/chapter4" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Chapter 04 編碼與演化</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/ddia/chapter5" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Chapter 05 複製</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 4v12l-4-2l-4 2V4M6 20h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2Z"/></svg><span data-v-d42239fd>持續交付2.0</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/chapter5" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>05 持續交付的軟體系統架構</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/chapter7" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>07 部署流水線原則與工具設計</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/chapter8" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>08 利於集成的分支策略</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/chapter9" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>09 持續整合</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/chapter10" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Chapter 10 自動化測試策略與方法</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/chapter11" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Chapter 11 軟件配置管理</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/chapter12" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Chapter 12 低風險發佈</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/chapter13" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Chapter 13 監測與決策</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/chapter16" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Chapter 16 研發推動的DevOps</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/appendix00" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Appendix 00 使用Gitlab做CI/CD</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/cicd-2.0/appendix01" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Appendix 01 Database Version Control</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Web Api</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-d42239fd data-v-d42239fd><!--[--><li class="bordered active" data-v-d42239fd><a aria-current="page" href="/code-study-test/web-api/chapter2" class="router-link-active router-link-exact-active link padded active" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>第2章 EndPoint設計與請求形式</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/code-study-test/web-api/chapter5" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>第5章 開發方便更改設計的API</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/code-study-test/web-api/chapter6" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>第6章開發牢固的WebAPI</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 4v12l-4-2l-4 2V4M6 20h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2Z"/></svg><span data-v-d42239fd>API</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/api/components" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Components</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/api/composables" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Composables</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study-test/api/layouts" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Layouts</span></span></a><!----></li><!--]--></ul></li><!--]--></ul></nav></aside><article class="page-body" data-v-8784edc1><div class="flex flex-col" data-v-8784edc1><!----><div class="my-1"><span class="text-xs md:text-sm"> 字數總計：0 個 </span><span class="mx-1">|</span><span class="text-xs md:text-sm"> 閱讀時長：0 分鐘 </span><span class="mx-1">|</span><span class="text-xs md:text-sm" id="busuanzi_container_page_pv"><span>閱讀次數：</span><span id="busuanzi_value_page_pv"></span> 次 </span></div><div class="mt-1 z-10"><!--[--><!--]--></div></div><!--[--><!--[--><div><h2 id="_21-設計通過api公開的功能" data-v-70b0c1e2><a aria-current="page" href="/code-study-test/web-api/chapter2#_21-設計通過api公開的功能" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->2.1 設計通過API公開的功能<!--]--><!----></a></h2><p data-v-9dc9c102><!--[-->SNS在線服務功能<!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->使用者註冊<!--]--></li><li data-v-4c2f5fb9><!--[-->登入<!--]--></li><li data-v-4c2f5fb9><!--[-->獲取自己的資訊<!--]--></li><li data-v-4c2f5fb9><!--[-->更新自己的資訊<!--]--></li><li data-v-4c2f5fb9><!--[-->取得使用者資訊<!--]--></li><li data-v-4c2f5fb9><!--[-->搜尋使用者<!--]--></li><li data-v-4c2f5fb9><!--[-->添加好友<!--]--></li><li data-v-4c2f5fb9><!--[-->刪除好友<!--]--></li><li data-v-4c2f5fb9><!--[-->取得好友列表<!--]--></li><li data-v-4c2f5fb9><!--[-->搜尋好友<!--]--></li><li data-v-4c2f5fb9><!--[-->發送消息<!--]--></li><li data-v-4c2f5fb9><!--[-->取得好友的訊息<!--]--></li><li data-v-4c2f5fb9><!--[-->編輯訊息<!--]--></li><li data-v-4c2f5fb9><!--[-->刪除訊息<!--]--></li><li data-v-4c2f5fb9><!--[-->好友動態列表<!--]--></li><li data-v-4c2f5fb9><!--[-->特定用的動態列表<!--]--></li><li data-v-4c2f5fb9><!--[-->發表動態訊息<!--]--></li><li data-v-4c2f5fb9><!--[-->編輯動態訊息<!--]--></li><li data-v-4c2f5fb9><!--[-->刪除動態訊息<!--]--></li><!--]--></ul><h2 id="_22-api-endpoint的設計思想" data-v-70b0c1e2><a aria-current="page" href="/code-study-test/web-api/chapter2#_22-api-endpoint的設計思想" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->2.2 API EndPoint的設計思想<!--]--><!----></a></h2><h4 id="endpoint的基本設計" data-v-57e8d291><a aria-current="page" href="/code-study-test/web-api/chapter2#endpoint的基本設計" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->EndPoint的基本設計<!--]--><!----></a></h4><p data-v-9dc9c102><!--[-->怎麼設計一個優秀的URI，有一個重要的原則<!--]--></p><blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->容易記憶，URI包含的功能一目了然<!--]--></p><!--]--></blockquote><p data-v-9dc9c102><!--[-->💡<strong data-v-84b57b07><!--[-->容易記憶的原則如下<!--]--></strong><!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->短小便於輸入的URI<!--]--></li><li data-v-4c2f5fb9><!--[-->人可以讀懂的URI<!--]--></li><li data-v-4c2f5fb9><!--[-->沒有大小寫混用的URI<!--]--></li><li data-v-4c2f5fb9><!--[-->修改方便的URI<!--]--></li><li data-v-4c2f5fb9><!--[-->不會曝露伺服器架構的URI<!--]--></li><li data-v-4c2f5fb9><!--[-->規則統一的URI<!--]--></li><!--]--></ul><ol data-v-e6ab85be><!--[--><li data-v-4c2f5fb9><!--[-->短小便於輸入的URI<br>💀 反例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/service/api/search
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>💡 正例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/search
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>✅ 結論<blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->將URI使用短小、簡單的方式進行表達，更易於理解和記憶。<!--]--></p><!--]--></blockquote><!--]--></li><li data-v-4c2f5fb9><!--[-->人可以讀懂的URI<br>💀 反例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/sv/u
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>💡 正例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/products/12345
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>📦 補充<br>API的設計查詢時，該使用<code class="" data-v-2f6bd69d><!--[-->search<!--]--></code>還是<code class="" data-v-2f6bd69d><!--[-->find<!--]--></code>詞彙?<br>通常使用<code class="" data-v-2f6bd69d><!--[-->search<!--]--></code>來表示，<code class="" data-v-2f6bd69d><!--[-->search<!--]--></code>表示在某個地方尋找，而<code class="" data-v-2f6bd69d><!--[-->find<!--]--></code>則是尋找某個特定物品。<br>✅ 結論<blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->盡量少用縮寫，適當的使用完整的英文單字來表示。<!--]--></p><!--]--></blockquote><!--]--></li><li data-v-4c2f5fb9><!--[-->沒有大小寫混用的URI<br>💀 反例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/Users/12345
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://example.com/API/getUserName
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>💡 正例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/users/12345
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>📦 補充<br>如果遇到兩種大小寫的URI進行混用時，應該如何進行處理?<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://example.com/USERS/12345
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://example.com/users/12345
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>在普通的Web網站下，如果採用了不論大小寫都會返回相同的結果會出現一種問題，會導致Google等搜尋引    擎會認為有多個頁面返回了相同的結果而導致網站排名進行下降。<br>參考下列服務，當遇到大寫字母的URI時，會自動返回404<div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->在線服務<!--]--></th><th align="center" data-v-40ddd69b><!--[-->處理混有大寫字母的URL<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Foursqare<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->出錯404<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Github<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->出錯404<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Tumblr<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->出錯404<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><br>✅ 結論<blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->盡量不要使用大小寫字母混用會造成API難以理解，一般標準的做法是，統一使用小寫的URI。<!--]--></p><!--]--></blockquote><!--]--></li><li data-v-4c2f5fb9><!--[-->修改方便的URI<br>修改方便在英語文語意為<code class="" data-v-2f6bd69d><!--[-->Hackable<!--]--></code>。修改方便的URI指的是能將某個URI非常容易修改為另外一個URI。    通常應用在獲取某種商品。<br>💀 反例<br>按照資料庫的資料表進行結構區分，例如: 1 ~ 300000儲存到alpha資表表內。<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D"># ID的範圍 1 ~ 300000
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/v1/items/alpha/:id
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D"># ID的範圍 400001 ~ 500000
</span></span><span class="line" line="5"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/v1/items/beta/:id
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D"># ID的範圍 500001 ~ 700000
</span></span><span class="line" line="8"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/v1/items/gamma/:id
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D"># ID的範圍 700001 ~
</span></span><span class="line" line="11"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/v1/items/delta/:id
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>💡 正例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/v1/items/123456
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>✅ 結論<blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->盡量讓URI的延展性佳(這邊指的是/items/{id})，可以藉由輸入不同的編號，來修改URI，而不是必須    要去猜測。<!--]--></p><!--]--></blockquote><!--]--></li><li data-v-4c2f5fb9><!--[-->不會曝露伺服器架構的URI<br>💀 反例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/cgi-bin/get_user.php?user</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E">=100
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>💡 正例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/user/100
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>✅ 結論<blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->不要將無意義的資訊暴露出來。例如:<!--]--></p><ol data-v-e6ab85be><!--[--><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->cgi-bin<!--]--></code>，可以猜測你可能是使用CGI的方式運行。<!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->get_user.php<!--]--></code>，可以猜測你可能是使用php進行撰寫。<!--]--></li><!--]--></ol><!--]--></blockquote><!--]--></li><li data-v-4c2f5fb9><!--[-->規則統一的URI<br>💀 反例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D"># 獲取好友資訊
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/friends?id</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E">=100
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D"># 發送好友資訊
</span></span><span class="line" line="5"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/friend/100/message
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>💡 正例<div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D"># 獲取好友資訊
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/friends/100
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D"># 發送好友資訊
</span></span><span class="line" line="5"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">http://api.example.com/friends/100/message
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><br>✅ 結論<blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->統一URI的設計，讓使用者易於理解。<!--]--></p><!--]--></blockquote><!--]--></li><!--]--></ol><h2 id="_23-http方法和endpoint" data-v-70b0c1e2><a aria-current="page" href="/code-study-test/web-api/chapter2#_23-http方法和endpoint" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->2.3 HTTP方法和EndPoint<!--]--><!----></a></h2><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->方法名稱<!--]--></th><th align="center" data-v-40ddd69b><!--[-->說明<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->GET<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->獲取資源<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->POST<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->新增資源<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->PUT<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->更新已有資源<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->DELETE<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->刪除資源<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->PATCH<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->更新部分資源<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->HEAD<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->獲取資源的Metadata資訊<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->Metedata為描述資料的資料，舉例：描述HTML5這份文件的資料。 <br>
Metedata不會呈現在畫面上，只會給瀏覽器和搜尋引擎查看。 <br><a href="https://ithelp.ithome.com.tw/articles/10237545" rel="nofollow" data-v-692834dd><!--[-->https://ithelp.ithome.com.tw/articles/10237545<!--]--></a> <br><!--]--></p><!--]--></blockquote><h2 id="_24-api端點的設計" data-v-70b0c1e2><a aria-current="page" href="/code-study-test/web-api/chapter2#_24-api端點的設計" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->2.4 API端點的設計<!--]--><!----></a></h2><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->目的<!--]--></th><th align="center" data-v-40ddd69b><!--[-->EndPoint<!--]--></th><th align="center" data-v-40ddd69b><!--[-->方法<!--]--></th><th align="center" data-v-40ddd69b><!--[-->其他相同<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->使用者註冊<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users<!--]--></a> <br> <a href="http://api.example.com/v1/auth/sign" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/auth/sign<!--]--></a> <br> <a href="http://api.example.com/v1/auth/register" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/auth/register<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->POST<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->其他相同<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->登入<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/auth/login" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/auth/login<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->POST<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->獲取自己的資訊<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users/me" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/me<!--]--></a> <br> <a href="http://api.example.com/v1/auth/me" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/auth/me<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->GET<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->更新自己的資訊<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users/me" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/me<!--]--></a> <br> <a href="http://api.example.com/v1/auth/me" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/auth/me<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->PUT<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->取得使用者資訊<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users/:id" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/:id<!--]--></a> <br> <a href="http://api.example.com/v1/users/%7Bid%7D" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/{id}<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->GET<!--]--></td><td align="center" data-v-5f84e3ba><!--[-->搜尋使用者<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->取得使用者列表<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->GET<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->取得好友列表<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users/:id/friends" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/:id/friends<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->GET<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->添加好友<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users/:id/friends" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/:id/friends<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->POST<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->刪除好友<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users/:id/friends/:id" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/:id/friends/:id<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->DELETE<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->搜尋好友<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users/:id/friends/:id" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/:id/friends/:id<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->GET<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->發送消息<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/friends/:id/message" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/friends/:id/message<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->POST<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->取得好友的訊息<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/friends/:id" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/friends/:id<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->GET<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->編輯訊息<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/friends/:id" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/friends/:id<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->PUT<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->刪除訊息<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/friends/:id" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/friends/:id<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->DELETE<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->好友動態列表<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users/:id/friends/updates" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/:id/friends/updates<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->GET<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->取得特定使用者的動態訊息<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/users/:id/updates" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/users/:id/updates<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->GET<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->發表動態訊息<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/updates" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/updates<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->POST<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->編輯動態訊息<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/updates/:id" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/updates/:id<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->PUT<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->刪除動態訊息<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><a href="http://api.example.com/v1/updates/:id" rel="nofollow" data-v-692834dd><!--[-->http://api.example.com/v1/updates/:id<!--]--></a><!--]--></td><td align="center" data-v-5f84e3ba><!--[-->DELETE<!--]--></td><td align="center" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[--><code class="" data-v-2f6bd69d><!--[-->:id<!--]--></code>為佔位符號<!--]--></p><!--]--></blockquote><h3 id="_241-訪問資源的endpoint設計的注意事項" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_241-訪問資源的endpoint設計的注意事項" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.4.1 訪問資源的EndPoint設計的注意事項<!--]--><!----></a></h3><ol data-v-e6ab85be><!--[--><li data-v-4c2f5fb9><!--[-->使用名詞的複數形式<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->URI<!--]--></code>表示資源的集合<!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->HTTP<!--]--></code>方法表示一般動詞<!--]--></li><!--]--></ul><!--]--></li><li data-v-4c2f5fb9><!--[-->注意所用的單字<br>
例如: <code class="" data-v-2f6bd69d><!--[-->search<!--]--></code>和<code class="" data-v-2f6bd69d><!--[-->find<!--]--></code>兩者中，該選用哪種比較好?<blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->API一般設計採用<code class="" data-v-2f6bd69d><!--[-->search<!--]--></code><!--]--></p><!--]--></blockquote><br>可以從👇網站查看各種API範例
<a href="https://www.programmableweb.com/" rel="nofollow" data-v-692834dd><!--[-->ProgrammableWeb<!--]--></a><!--]--></li><li data-v-4c2f5fb9><!--[-->不使用空格以及需要編碼的字串<br>
當URI裡存在無法直接使用的字串時，則需要使用到百分號編碼（英語：Percent-encoding），又稱：URL編碼（<em data-v-b3b2ffd9><!--[-->URL encoding<!--]--></em>）。
例如： <code class="" data-v-2f6bd69d><!--[-->%E3%81%82<!--]--></code>。<!--]--></li><!--]--></ol><p data-v-9dc9c102><!--[-->4️. 使用連接符來連接多個單字，基本上連接字串的方式總共有三種寫法。<!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->S<strong data-v-84b57b07><!--[-->pinal-Case寫法<!--]--></strong><br>一般稱為脊柱形命名法。<div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>http://api.example.com/v1/users/12345/profile-image
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><!--]--></li><li data-v-4c2f5fb9><!--[-->Snake Case<strong data-v-84b57b07><!--[-->寫法<!--]--></strong><br>一般稱為蛇型命名法。<div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>http://api.example.com/v1/users/12345/profile_image
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><!--]--></li><li data-v-4c2f5fb9><!--[-->Camel Case寫法<br>一般稱為駝峰命名法。<div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>http://api.example.com/v1/users/12345/profileImage
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><!--]--></li><!--]--></ul><aside>   
<p data-v-9dc9c102><!--[-->💡 這三種寫法中，網路上最推薦Spinal-Case的方法，其中一個原因是因為Google推薦使用。<!--]--></p></aside><p data-v-9dc9c102><!--[-->另外最好在URI中使用多個單字，例如不要使用<code class="" data-v-2f6bd69d><!--[-->popular_users<!--]--></code>，而是使用<code class="" data-v-2f6bd69d><!--[-->users/popular<!--]--></code>用路徑那樣子來劃分。<!--]--></p><h2 id="_25-搜尋與查詢參數的設計" data-v-70b0c1e2><a aria-current="page" href="/code-study-test/web-api/chapter2#_25-搜尋與查詢參數的設計" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->2.5 搜尋與查詢參數的設計<!--]--><!----></a></h2><h3 id="_251-獲取資料量和獲取位置的查詢參數" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_251-獲取資料量和獲取位置的查詢參數" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.5.1 獲取資料量和獲取位置的查詢參數<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->當資料量很龐大的時候，例如 👇 使用者資料列表API，如果今天是FB等級的使用者，那可能有好幾億，這樣一次把所有數值吐回來是不可能達成的，因此可以採用分頁(Pagination)來處理。<!--]--></p><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>http://api.example.com/v1/users
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><blockquote data-v-96397147><!--[--><p data-v-9dc9c102><!--[-->分頁的使用，一般可以透過SQL中<code class="" data-v-2f6bd69d><!--[-->limit<!--]--></code>和<code class="" data-v-2f6bd69d><!--[-->offset<!--]--></code>數值來產生。<!--]--></p><!--]--></blockquote><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->各大服務查詢的方式
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->資料量 使用<code class="" data-v-2f6bd69d><!--[-->limit<!--]--></code>、<code class="" data-v-2f6bd69d><!--[-->count<!--]--></code>、<code class="" data-v-2f6bd69d><!--[-->per_page<!--]--></code><!--]--></li><li data-v-4c2f5fb9><!--[-->資料位置 使用<code class="" data-v-2f6bd69d><!--[-->page<!--]--></code>、<code class="" data-v-2f6bd69d><!--[-->offset<!--]--></code>、<code class="" data-v-2f6bd69d><!--[-->cursor<!--]--></code><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><p data-v-9dc9c102><!--[--><img src="https://military-share-82c.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2d9a6bfd-d6c2-4c99-b6ed-843469653bad%2FUntitled.png?table=block&amp;id=158287f6-0e24-4ad3-8da3-b761bdff3043&amp;spaceId=7cddc0b4-9d6b-472a-acd3-0cab4ea53d17&amp;width=1590&amp;userId=&amp;cache=v2" alt="001" data-v-2ef15301><!--]--></p><aside><p data-v-9dc9c102><!--[-->一般來說 <code class="" data-v-2f6bd69d><!--[-->per_page<!--]--></code> 和<code class="" data-v-2f6bd69d><!--[-->page<!--]--></code>會一起出現，而<code class="" data-v-2f6bd69d><!--[-->limit<!--]--></code>和<code class="" data-v-2f6bd69d><!--[-->offset<!--]--></code>會成對出現。<!--]--></p></aside><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->分頁的舉例
1頁可以容納50條紀錄，當要取第三頁(從101開始)的資料時，該怎麼撰寫呢?<!--]--></li><!--]--></ul><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>per_page=50&amp;page=3

limit=50&amp;offset=100
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><aside><p data-v-9dc9c102><!--[-->💡 一般<code class="" data-v-2f6bd69d><!--[-->page<!--]--></code>從1開始(1-based)計數，而<code class="" data-v-2f6bd69d><!--[-->offset<!--]--></code>則從0開始(0-based)計數。<!--]--></p></aside><h3 id="_252-使用相對位置存在的問題" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_252-使用相對位置存在的問題" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.5.2 使用相對位置存在的問題<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->當使用<code class="" data-v-2f6bd69d><!--[-->offset<!--]--></code>或<code class="" data-v-2f6bd69d><!--[-->limit<!--]--></code>來取得指定的資料位置時，其實都是要從頭開始數第幾條，每次都要從第1條資料開始計數，因此效能較差。<!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->從頭開始計數
<img src="https://military-share-82c.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4ac448fb-50c5-4c6e-91d5-9ddc8c249e69%2FUntitled.png?table=block&amp;id=74605e3e-b17f-43a3-8d95-74de1f7a68a2&amp;spaceId=7cddc0b4-9d6b-472a-acd3-0cab4ea53d17&amp;width=1120&amp;userId=&amp;cache=v2" alt="002" data-v-2ef15301><!--]--></li><li data-v-4c2f5fb9><!--[-->當資料更新的頻率比較高的時候，會導致當前獲取資料出現一定的偏差。
<img src="https://military-share-82c.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd5d28ba3-3a36-418a-87c4-941043ce2cc8%2FUntitled.png?table=block&amp;id=0c282def-8acc-4d50-b940-055399e49605&amp;spaceId=7cddc0b4-9d6b-472a-acd3-0cab4ea53d17&amp;width=1120&amp;userId=&amp;cache=v2" alt="003" data-v-2ef15301><!--]--></li><!--]--></ul><h3 id="_253-使用絕對位置來取得資料" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_253-使用絕對位置來取得資料" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.5.3 使用絕對位置來取得資料<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->可以透過指&quot;定某個ID之前&quot;或&quot;某個日期之前&quot;等條件，來解決相對應位置取得資料的問題。<!--]--></p><p data-v-9dc9c102><!--[-->例如：Twiiter的API中的<code class="" data-v-2f6bd69d><!--[-->max_id<!--]--></code>、YouTube中的<code class="" data-v-2f6bd69d><!--[-->publishedBefore<!--]--></code>。<!--]--></p><h3 id="_254-使用參數來過濾" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_254-使用參數來過濾" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.5.4 使用參數來過濾<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->以下例子使用Linkedin的People Search API舉例。<!--]--></p><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>http://api.linkedin.com/v1/people-search?first-name=Clair

http://api.linkedin.com/v1/people-search?last-name=Clair

http://api.linkedin.com/v1/people-search?school-name=Shermer&amp;20High%20School
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="_255-查詢參數和路徑的使用區別" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_255-查詢參數和路徑的使用區別" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.5.5 查詢參數和路徑的使用區別<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->到底該把參數附加在查詢參數裡面? 還是放在路徑裡呢? 可以依據下列兩點來解釋<!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->是否可以表示唯一資源所需的資訊<!--]--></li><!--]--></ul><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>http://api.example.com/v1/users/10
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->是否可以省略<!--]--></li><!--]--></ul><h3 id="分頁的額外補充" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#分頁的額外補充" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->分頁的額外補充<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->請求
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->perPage<!--]--></code> 每個頁面的大小(每個頁面的項目)<!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->page<!--]--></code> 目前頁面的編號<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>http://api.example.com/v1/users?page=3&amp;perPage=50
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->回應
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->currentPage<!--]--></code> 目前頁面的編號<!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->pageSize<!--]--></code> 每個頁面的大小(每個頁面的項目)<!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->totalPages<!--]--></code> 頁面總數量<!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->totalItems<!--]--></code>  項目的總數量<!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->items<!--]--></code> 目前頁面上的項目<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><h2 id="關於登錄oauth20-26-210" data-v-70b0c1e2><a aria-current="page" href="/code-study-test/web-api/chapter2#關於登錄oauth20-26-210" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->關於登錄OAuth2.0 (2.6 ~ 2.10)<!--]--><!----></a></h2><p data-v-9dc9c102><!--[-->OAuth在API設計上是蠻重要的一環，你一定很常遇到在使用某個網頁時，他會想要你Google或是Facebook的資料，此時頁面會導向一個小視窗要你輸入Google或Facebook的帳號密碼，輸入完畢後接著就會導回原本的網頁。接著網頁就可以獲取你Google與FB的相關資訊了。這種B網頁要向你索取第三方網頁的認證工作，就是OAuth會替你處理掉。<!--]--></p><h3 id="_26-陽春認證" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_26-陽春認證" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.6. <a href="https://reurl.cc/KrvVoe" rel="nofollow" data-v-692834dd><!--[-->陽春認證<!--]--></a><!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->上述描述的認證工作，最簡易的認證機制如下圖，使用者在客戶端透過基本的帳號與密碼向後端伺服器驗證身份。伺服器會經過一連串的驗證流程，驗證成功後透過如 Session / Cookie 機制，在客戶端保存用戶登入的狀態資訊。<!--]--></p><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/h22L2dC.png" alt data-v-2ef15301><!--]--></p><p data-v-9dc9c102><!--[-->此陽春認證大致會有幾個問題<!--]--></p><ol data-v-e6ab85be><!--[--><li data-v-4c2f5fb9><!--[-->第三方程式必須儲存 Resource Owner 的帳號密碼，通常是明文儲存。<!--]--></li><li data-v-4c2f5fb9><!--[-->Server 必須支援密碼認證，即使密碼有天生的資訊安全上的弱點。<!--]--></li><li data-v-4c2f5fb9><!--[-->第三方程式會得到幾乎完整的權限，可以存取 Protected Resources ，而 Resource Owner 沒辦法限制第三方程式可以拿取 Resource 的時效，以及可以存取的範圍 (subset)。<!--]--></li><li data-v-4c2f5fb9><!--[-->任何第三方程式被破解 (compromized)，就會導致使用該密碼的所有資料被破解。<!--]--></li><!--]--></ol><h3 id="_27-oauth的基本認證機制" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_27-oauth的基本認證機制" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.7 OAuth的基本認證機制<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->那麼OAuth在第三方認證這流程上，中間到底發生什麼事情，我們可以看下述圖意流程<!--]--></p><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/ViUvehH.png" alt data-v-2ef15301><!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Step1：User點下允許訪位Facebook個人資訊認證<!--]--></li><li data-v-4c2f5fb9><!--[-->Step2：第三方網頁請求認可<!--]--></li><li data-v-4c2f5fb9><!--[-->Step3：User輸入帳命並告知Facebook可以把Token轉交給第三方網頁<!--]--></li><li data-v-4c2f5fb9><!--[-->Step4：將Token轉交給第三方網頁<!--]--></li><li data-v-4c2f5fb9><!--[-->Step5：第三方網頁帶取Token向Facebook調用索取資訊API<!--]--></li><li data-v-4c2f5fb9><!--[-->Step6：Facebook Response請求給第三方網頁<!--]--></li><!--]--></ul><p data-v-9dc9c102><!--[-->上述OAuth常見的基本流程，使用OAuth方便的是，User無須再次對請求輸入帳號密碼，認證過程中會通過Facebook提供的頁面(一般常見為帳號密碼輸入或是認證許可按鈕如下圖)。<!--]--></p><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/BDIm3EB.png" alt data-v-2ef15301><!--]--></p><p data-v-9dc9c102><!--[-->如果OAuth訪問成功就可從Facebook獲取access token，通過此token，第三方網頁就可訪問Facebook用戶允許的相關訊息(public profile mail 介紹...)。<!--]--></p><h3 id="_28-oauth-20-的角色定義" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_28-oauth-20-的角色定義" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.8 OAuth 2.0 的角色定義<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Resource Owner：可以授權別人去存取 Protected Resource 。如果這個角色是人類的話，則就是指使用者 (end-user)。<!--]--></li><li data-v-4c2f5fb9><!--[-->Resource Server：存放 Protected Resource 的伺服器，可以根據 Access Token 來接受 Protected Resource 的請求。<!--]--></li><li data-v-4c2f5fb9><!--[-->Client：代表 Resource Owner 去存取 Protected Resource 的應用程式。 “Client” 一詞並不指任何特定的實作方式（可以在 Server 上面跑、在一般電腦上跑、或是在其他的設備）。<!--]--></li><li data-v-4c2f5fb9><!--[-->Authorization Server：在認證過 Resource Owner 並且 Resource Owner 許可之後，核發 Access Token 的伺服器。<!--]--></li><!--]--></ul><h3 id="_29-oauth的認證流程形式grant-type" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_29-oauth的認證流程形式grant-type" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.9 OAuth的認證流程形式(Grant Type)<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->上述簡單描述OAuth基本流程，但實際的認證流程會有四種形式，推薦此篇<a href="https://reurl.cc/KrvVoe" rel="nofollow" data-v-692834dd><!--[-->認識 OAuth 2.0：一次了解各角色、各類型流程的差異<!--]--></a>。對於四種形式我覺得此篇作者整理得很淺白易懂。這邊我也會直接擷取他對於四種形式的描述來解說。<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->Type<!--]--></th><th align="left" data-v-40ddd69b><!--[-->常見應用<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Authorization Code<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->有透過Server處理<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Implicit<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->Clinet端處理<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Resource Owner Password Credentials<!--]--></td><td align="left" data-v-5f84e3ba><!--[--><!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Client Credentials<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->M2M(Machine to Machine)<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><h3 id="_210-authorization-code" data-v-4cf5bb93><a aria-current="page" href="/code-study-test/web-api/chapter2#_210-authorization-code" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->2.10 <strong data-v-84b57b07><!--[-->Authorization Code<!--]--></strong><!--]--><!----></a></h3><h6 id="流程示意" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#流程示意" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->流程示意<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->常見類型，通常應用在SSR伺服器渲染的設計上，大部分的邏輯處理程式碼以極機密都會保存在Server。<!--]--></p><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/m2Ednsg.png" alt data-v-2ef15301><!--]--></p><h6 id="詳細流程" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#詳細流程" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->詳細流程<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->(1) Authorization Request<!--]--></p><p data-v-9dc9c102><!--[-->【Client】GET -&gt; 【Authorization Endpoint】<!--]--></p><p data-v-9dc9c102><!--[-->第一步是 Client 產生一個 URL 連到 Authorization Endpoint ，要 Resource Owner 打開（點擊）這個 URL ，從而產生「向 Authorization Endpoint 發送 GET request」的操作。<!--]--></p><p data-v-9dc9c102><!--[-->把參數包在 URI 的 query components 裡面。<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->參數名<!--]--></th><th align="left" data-v-40ddd69b><!--[-->填什麼/意義<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->response_type<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->code<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->client_id<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->自己的 Client ID<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->state<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->內部狀態<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->redirect_uri<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->申請結果下來之後要轉址去哪裡<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->scope<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->申請的存取範圍<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>GET /authorize?response_type=code&amp;client_id=s6BhdRkqt3&amp;state=xyz
    &amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1
Host: server.example.com
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><hr data-v-89dedb08><p data-v-9dc9c102><!--[-->(4) Authorization Response<!--]--></p><p data-v-9dc9c102><!--[-->【Authorization Endpoint】 302 Response -&gt;  GET 【Client: Redirection Endpoint】<!--]--></p><p data-v-9dc9c102><!--[-->Resource Owner 若同意授權，這個「同意授權」的 request 會往 Authorization Endpoint 發送，接著會收到 302 的轉址 response ，裡面帶有「前往 Client 的 Redirection Endpoint 的 URL」的轉址 (Location header)，從而產生「向 Redirection URI 發送 GET Request」的操作。<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->參數名<!--]--></th><th align="left" data-v-40ddd69b><!--[-->填什麼/意義<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->code<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->Authorization Code<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->state<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->原內部狀態<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>HTTP/1.1 302 Found
Location: https://client.example.com/cb?code=SplxlOBeZQQYbYS6WxSbIA
          &amp;state=xyz
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->state 如果 (1) 的時候有附上，則 Resopnse 裡面必須有，完全一致的原值。如果原本就沒有，就不需要回傳。<!--]--></li><li data-v-4c2f5fb9><!--[-->Authorization Code：<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->必須是短時效的，建議最長 10 分鐘。<!--]--></li><li data-v-4c2f5fb9><!--[-->Client 只能使用一次，如果重複使用，Authorization Server 必須拒絕，並且建議撤銷之前透過這個 Grant 核發過的 Tokens<!--]--></li><li data-v-4c2f5fb9><!--[-->要綁定 Code ↔ Client ID ↔ Redirection URI 的關係<!--]--></li><li data-v-4c2f5fb9><!--[-->長度由 Authorization Server 定義，應寫在文件中， Client 不可以瞎猜。<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><hr data-v-89dedb08><p data-v-9dc9c102><!--[-->(5) Access Token Request<!--]--></p><p data-v-9dc9c102><!--[-->【Client】POST -&gt; 【Token Endpoint】<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->參數名<!--]--></th><th align="left" data-v-40ddd69b><!--[-->填什麼/意義<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->grant_type<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->Authorization Code<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->code<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->在 (4) 拿到的 Authorization Code<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->redirect_uri<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->如果 (A) 有提供，則必須提供一模一樣的。<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->client_id<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->自己的 Client ID<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><h6 id="authorization-server-的處理程序" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#authorization-server-的處理程序" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->Authorization Server 的處理程序<!--]--><!----></a></h6><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->要求 Client 認證自己（如果是 Confidential Client 或有拿到 Client Credentials）<!--]--></li><li data-v-4c2f5fb9><!--[-->如果 Client 有出示認證資料，就認證它<!--]--></li><li data-v-4c2f5fb9><!--[-->確定 Authorization Code 是發給 Client 的
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Confidential: 用 Client 的認證過程來證明<!--]--></li><li data-v-4c2f5fb9><!--[-->Public: 用 Client ID 來證明<!--]--></li><!--]--></ul><!--]--></li><li data-v-4c2f5fb9><!--[-->驗證 Authorization Code 正確<!--]--></li><li data-v-4c2f5fb9><!--[-->如果 (1) 有給 Redirection URI 的話，確定這次給的 Redirection URI 與 (1) 時的一模一樣。<!--]--></li><!--]--></ul><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>POST /token HTTP/1.1
Host: server.example.com
Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&amp;code=SplxlOBeZQQYbYS6WxSbIA
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-9dc9c102><!--[-->(5) Access Token Response<!--]--></p><p data-v-9dc9c102><!--[-->【Client】 &lt;- 【Token Endpoint】<!--]--></p><p data-v-9dc9c102><!--[-->若 Access Token Request 合法且有經過授權，則核發 Access Token，同時可以核發 Refresh Token （非必備）。如果 Client 認證失敗，或 Request 不合法，則依照 <a href="https://datatracker.ietf.org/doc/html/rfc6749" rel="nofollow" data-v-692834dd><!--[-->RFC 6749 Section 5.2<!--]--></a> 的規定回覆錯誤。<!--]--></p><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-store
Pragma: no-cache

{
  &quot;access_token&quot;:&quot;2YotnFZFEjr1zCsicMWpAA&quot;,
  &quot;token_type&quot;:&quot;example&quot;,
  &quot;expires_in&quot;:3600,
  &quot;refresh_token&quot;:&quot;tGzv3JOkF0XG5Qx2TlKWIA&quot;,
  &quot;example_parameter&quot;:&quot;example_value&quot;
}
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h5 id="implicit" data-v-637c86f5><a aria-current="page" href="/code-study-test/web-api/chapter2#implicit" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[--><strong data-v-84b57b07><!--[-->Implicit<!--]--></strong><!--]--><!----></a></h5><h6 id="流程示意-1" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#流程示意-1" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->流程示意<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->通常應用在SPA設計，整個應用程式都在前端運行，依需求向後端 API 取得資料。由於整個應用程式都在前端運行，所以會缺少「後端伺服器透過 Authorization Code Grant 交換 Access Token 」的步驟。取而代之的是請 Authorization Server 直接核發 Access Token。<!--]--></p><p data-v-9dc9c102><!--[-->這邊要注意最終應用程式就能拿著 Access Token 向 Resource Server 取得資料。特別留意：不像 Authorization Code Flow，這邊是由前端獲得與管理 Access Token，並帶著 Access Token 發出請求前往取得資源，因此在安全性上「相對脆弱」。<!--]--></p><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/UMvZKO9.png" alt data-v-2ef15301><!--]--></p><h6 id="詳細流程-1" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#詳細流程-1" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->詳細流程<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->(1) Authorization Request<!--]--></p><p data-v-9dc9c102><!--[-->【Client】GET -&gt;【Authorization Endpoint】<!--]--></p><p data-v-9dc9c102><!--[-->第一步是 Client 產生一個 URL 連到 Authorization Endpoint ，要 Resource Owner 打開（點擊）這個 URL ，從而產生「向 Authorization Endpoint 發送 GET request」的操作。<!--]--></p><p data-v-9dc9c102><!--[-->把參數包在 URI 的 query component 裡面。<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->參數名<!--]--></th><th align="left" data-v-40ddd69b><!--[-->填什麼/意義<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->response_type<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->code<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->client_id<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->自己的 Client ID<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->state<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->內部狀態<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->redirect_uri<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->申請結果下來之後要轉址去哪裡<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->scope<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->申請的存取範圍<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><h6 id="authorization-server-的處理程序-1" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#authorization-server-的處理程序-1" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->Authorization Server 的處理程序<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->因為 Implicit Grant Flow 是直接在 Authorization Endpoint 發 Access Token ，所以資料驗證和授權都在這一步處理。所以這個 Request 進來的時候， Authorization Server 要做這些事：<!--]--></p><p data-v-9dc9c102><!--[-->驗證所有必須給的參數都有給且合法<!--]--></p><p data-v-9dc9c102><!--[-->Redirection URI 與預先在 Authorization Server 設定的相符。
如果沒問題，就詢問 Resource Owner 是否授權，即 (B) 步驟<!--]--></p><p data-v-9dc9c102><!--[-->(4) Authorization Response<!--]--></p><p data-v-9dc9c102><!--[-->【Client】 &lt;- 302【Authorization Endpoint】<!--]--></p><p data-v-9dc9c102><!--[-->Resource Owner 若同意授權，這個「同意授權」的 request 會往 Authorization Endpoint 發送，接著會收到 302 的轉址 response ，裡面帶有「前往 Client 的 Redirection Endpoint 的 URL」的轉址 (Location header)，從而產生「向 Redirection URI 發送 GET Request」的操作。<!--]--></p><p data-v-9dc9c102><!--[-->參數要用 URL Encoding 編起來，放在 Fragment Component 裡面。<!--]--></p><p data-v-9dc9c102><!--[-->若 Access Token Request 合法且有經過授權，則核發 Access Token。如果 Client 認證失敗，或 Request 不合法，則依照 Section 5.2 的規定回覆錯誤。<!--]--></p><p data-v-9dc9c102><!--[-->特別注意 Implicit Grant Type 禁止 核發 Refresh Token。<!--]--></p><p data-v-9dc9c102><!--[-->某些 User-Agent 不支援 Fragment Redirection ，這種情況可以使用間接轉址，即是轉到一個頁面，放一個 “Continue” 的按鈕，按下去連到真正的 Redirection URI 。<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->參數名<!--]--></th><th align="left" data-v-40ddd69b><!--[-->填什麼/意義<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->access_token<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->即 Access Token<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->expires_in<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->建議有	幾秒過期，如 3600 表示 10 分鐘。若要省略，最好在文件裡註明效期。<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->scope<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->Access Token 的授權範圍 (scopes)。<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->state<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->原內部狀態。<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><p data-v-9dc9c102><!--[-->其中 scope 如果和 (1) 申請的不同則要附上，如果一樣的話就不必附上。<!--]--></p><p data-v-9dc9c102><!--[-->其中 state 如果 (1) 的時候有附上，則 Resopnse 裡面必須有，完全一致的原值。如果原本就沒有，就不需要回傳。<!--]--></p><p data-v-9dc9c102><!--[-->Access Token 的長度由 Authorization Server 定義，應寫在文件中， Client 不可以瞎猜。<!--]--></p><p data-v-9dc9c102><!--[-->Client 遇到不認識的參數必須忽略。<!--]--></p><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>HTTP/1.1 302 Found
Location: http://example.com/cb#access_token=2YotnFZFEjr1zCsicMWpAA
          &amp;state=xyz&amp;token_type=example&amp;expires_in=3600
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h5 id="resource-owner-password-credentials" data-v-637c86f5><a aria-current="page" href="/code-study-test/web-api/chapter2#resource-owner-password-credentials" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[--><strong data-v-84b57b07><!--[-->Resource Owner Password Credentials<!--]--></strong><!--]--><!----></a></h5><h6 id="流程示意-2" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#流程示意-2" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->流程示意<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->由使用者提供帳號與密碼等資訊給應用程式，由應用程式直接向 Authorization Server 交換 Access Token，因此「必須是使用者高度信賴的應用程式」才適合使用，且唯有前兩種皆不可行時，才會考慮使用當前類型的流程。<!--]--></p><p data-v-9dc9c102><!--[-->體驗上和以往的帳號密碼登入雷同。<!--]--></p><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/N9DUpEB.png" alt data-v-2ef15301><!--]--></p><h6 id="流程細節" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#流程細節" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->流程細節<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->(2,3) Authorization Request &amp; Response<!--]--></p><p data-v-9dc9c102><!--[-->在這個流程裡面， Authorization Grant 就是 Resource Owner 的帳號密碼，所以在 Step (A) 裡面直接向 Resource Onwer 索取，沒有經過網路來取得 Authorization。<!--]--></p><p data-v-9dc9c102><!--[-->Spec 不規定 Client 要怎麼拿到帳號密碼，但是 Client 取得 Access Token 之後，必須把 Resource Owner 的帳號密碼給銷毀掉。<!--]--></p><p data-v-9dc9c102><!--[-->(4) Access Token Request<!--]--></p><p data-v-9dc9c102><!--[-->【Client】POST -&gt; 【Token Endpoint】<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->參數名<!--]--></th><th align="left" data-v-40ddd69b><!--[-->填什麼/意義<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->grant_type<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->password<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->username<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->Resource Owner 的帳號<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->password<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->Resource Owner 的密碼<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->scope<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->申請的存取範圍<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><h6 id="authorization-server-的處理程序-2" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#authorization-server-的處理程序-2" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->Authorization Server 的處理程序<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->這個 Request 進來的時候， Authorization Server 要做這些事：<!--]--></p><p data-v-9dc9c102><!--[-->要求 Client 認證自己（如果是 Confidential Client 或有拿到 Client Credentials）<!--]--></p><p data-v-9dc9c102><!--[-->如果 Client 有出示認證資料，就認證它<!--]--></p><h5 id="client-credentials" data-v-637c86f5><a aria-current="page" href="/code-study-test/web-api/chapter2#client-credentials" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[--><strong data-v-84b57b07><!--[-->Client Credentials<!--]--></strong><!--]--><!----></a></h5><h6 id="流程示意-3" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#流程示意-3" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->流程示意<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->通常是由應用程式向 Authourization Server 請求取得 Access Token 以獲取「自己」的相關資源，而非使用者的資源。<!--]--></p><p data-v-9dc9c102><!--[-->這個流程已經跳脫使用者，因此，使用者身份驗證的流程將不再需要。取而代之的，是應用程式必須向 Authorization Server 提供驗證所需的自身資訊。<!--]--></p><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/uPeIjN5.png" alt data-v-2ef15301><!--]--></p><h6 id="流程細節-1" data-v-913dabe3><a aria-current="page" href="/code-study-test/web-api/chapter2#流程細節-1" class="router-link-active router-link-exact-active" data-v-913dabe3><!--[-->流程細節<!--]--><!----></a></h6><p data-v-9dc9c102><!--[-->(1) Access Token Request<!--]--></p><p data-v-9dc9c102><!--[-->【Client】POST -&gt; 【Token Endpoint】<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->參數名<!--]--></th><th align="left" data-v-40ddd69b><!--[-->填什麼/意義<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->grant_type<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->password<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->scope<!--]--></td><td align="left" data-v-5f84e3ba><!--[-->申請的存取範圍<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>POST /token HTTP/1.1
Host: server.example.com
Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW
Content-Type: application/x-www-form-urlencoded

grant_type=client_credentials
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-9dc9c102><!--[-->(2) Access Token Response<!--]--></p><p data-v-9dc9c102><!--[-->【Client】POST &lt;- 【Token Endpoint】<!--]--></p><p data-v-9dc9c102><!--[-->若 Access Token Request 合法且有經過授權，則核發 Access Token，但是最好不要核發 Refresh Token。如果 Client 認證失敗，或 Request 不合法，則依照的<a href="https://datatracker.ietf.org/doc/html/rfc6749" rel="nofollow" data-v-692834dd><!--[-->RFC6749規定(Section5.2)<!--]--></a>回覆錯誤。<!--]--></p><div class="highlight-null prose-code" data-v-c164ce0a><!----><!--[--><pre class="" style=""><!--[--><code>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-store
Pragma: no-cache

{
  &quot;access_token&quot;:&quot;2YotnFZFEjr1zCsicMWpAA&quot;,
  &quot;token_type&quot;:&quot;example&quot;,
  &quot;expires_in&quot;:3600,
  &quot;example_parameter&quot;:&quot;example_value&quot;
}
</code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="簡易整理" data-v-57e8d291><a aria-current="page" href="/code-study-test/web-api/chapter2#簡易整理" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->簡易整理<!--]--><!----></a></h4><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/4cIcic1.png" alt data-v-2ef15301><!--]--></p><h4 id="doauth端點範例" data-v-57e8d291><a aria-current="page" href="/code-study-test/web-api/chapter2#doauth端點範例" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->d.OAuth端點範例<!--]--><!----></a></h4><p data-v-9dc9c102><!--[-->上述探討完四種認證流程形式，那實際使用OAuth時，端點的形式該如何設計?下述為常見的幾個有名的網站<!--]--></p><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/1pHhAR6.png" alt data-v-2ef15301><!--]--></p><p data-v-9dc9c102><!--[-->書中筆者比較建議的方式是像<code class="" data-v-2f6bd69d><!--[-->/oauth2/token<!--]--></code>此種方式去設計，因為明確指出使用的是OAuth2.0，並且與RFC 6749給出的範例雷同。<!--]--></p><p data-v-9dc9c102><!--[-->我們稍微看一下實際medium在索取facebook認證資訊時的內容如下圖，基本上也是照這邏輯下去設計<!--]--></p><p data-v-9dc9c102><!--[--><img src="https://i.imgur.com/0LUwjmj.png" alt data-v-2ef15301><!--]--></p><p data-v-9dc9c102><!--[--><a href="https://datatracker.ietf.org/doc/html/rfc6749" rel="nofollow" data-v-692834dd><!--[-->OAuth2.0<!--]--></a><!--]--></p><p data-v-9dc9c102><!--[--><a href="https://blog.yorkxin.org/posts/oauth2-1-introduction.html" rel="nofollow" data-v-692834dd><!--[-->OAuth 2.0 筆記<!--]--></a><!--]--></p><style>html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><!--]--><!--]--><!--[--><div class="docs-page-bottom" data-v-8784edc1 data-v-70e24a2d><!----></div><div class="docs-prev-next" data-v-8784edc1 data-v-30e1aea1><a href="/code-study-test/api/layouts" class="prev" data-v-30e1aea1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-30e1aea1 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m11 17l-5-5m0 0l5-5m-5 5h12"/></svg><div class="wrapper" data-v-30e1aea1><span class="directory" data-v-30e1aea1>Api</span><span class="title" data-v-30e1aea1>Layouts</span></div></a><a href="/code-study-test/web-api/chapter5" class="next" data-v-30e1aea1><div class="wrapper" data-v-30e1aea1><span class="directory" data-v-30e1aea1>Web Api</span><span class="title" data-v-30e1aea1>第5章 開發方便更改設計的API</span></div><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-30e1aea1 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m13 7l5 5m0 0l-5 5m5-5H6"/></svg></a></div><!--]--></article><div class="toc" data-v-8784edc1><div class="toc-wrapper" data-v-8784edc1><button data-v-8784edc1><span class="title" data-v-8784edc1>Table of Contents</span><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-8784edc1 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5l7 7l-7 7"/></svg></button><div class="docs-toc-wrapper" data-v-8784edc1><div class="docs-toc" data-v-8784edc1 data-v-ebd2b6b2><!--[--><div class="docs-toc-title" data-v-ebd2b6b2><span data-v-ebd2b6b2>Table of Contents</span></div><ul class="docs-toc-links" data-v-ebd2b6b2 data-v-a97df893><!--[--><li class="depth-2" data-v-a97df893><a href="#_21-設計通過api公開的功能" class="" data-v-a97df893>2.1 設計通過API公開的功能</a><!----></li><li class="depth-2" data-v-a97df893><a href="#_22-api-endpoint的設計思想" class="" data-v-a97df893>2.2 API EndPoint的設計思想</a><!----></li><li class="depth-2" data-v-a97df893><a href="#_23-http方法和endpoint" class="" data-v-a97df893>2.3 HTTP方法和EndPoint</a><!----></li><li class="depth-2" data-v-a97df893><a href="#_24-api端點的設計" class="" data-v-a97df893>2.4 API端點的設計</a><ul class="docs-toc-links" data-v-a97df893 data-v-a97df893><!--[--><li class="depth-3" data-v-a97df893><a href="#_241-訪問資源的endpoint設計的注意事項" class="" data-v-a97df893>2.4.1 訪問資源的EndPoint設計的注意事項</a><!----></li><!--]--></ul></li><li class="depth-2" data-v-a97df893><a href="#_25-搜尋與查詢參數的設計" class="" data-v-a97df893>2.5 搜尋與查詢參數的設計</a><ul class="docs-toc-links" data-v-a97df893 data-v-a97df893><!--[--><li class="depth-3" data-v-a97df893><a href="#_251-獲取資料量和獲取位置的查詢參數" class="" data-v-a97df893>2.5.1 獲取資料量和獲取位置的查詢參數</a><!----></li><li class="depth-3" data-v-a97df893><a href="#_252-使用相對位置存在的問題" class="" data-v-a97df893>2.5.2 使用相對位置存在的問題</a><!----></li><li class="depth-3" data-v-a97df893><a href="#_253-使用絕對位置來取得資料" class="" data-v-a97df893>2.5.3 使用絕對位置來取得資料</a><!----></li><li class="depth-3" data-v-a97df893><a href="#_254-使用參數來過濾" class="" data-v-a97df893>2.5.4 使用參數來過濾</a><!----></li><li class="depth-3" data-v-a97df893><a href="#_255-查詢參數和路徑的使用區別" class="" data-v-a97df893>2.5.5 查詢參數和路徑的使用區別</a><!----></li><li class="depth-3" data-v-a97df893><a href="#分頁的額外補充" class="" data-v-a97df893>分頁的額外補充</a><!----></li><!--]--></ul></li><li class="depth-2" data-v-a97df893><a href="#關於登錄oauth20-26-210" class="" data-v-a97df893>關於登錄OAuth2.0 (2.6 ~ 2.10)</a><ul class="docs-toc-links" data-v-a97df893 data-v-a97df893><!--[--><li class="depth-3" data-v-a97df893><a href="#_26-陽春認證" class="" data-v-a97df893>2.6. 陽春認證</a><!----></li><li class="depth-3" data-v-a97df893><a href="#_27-oauth的基本認證機制" class="" data-v-a97df893>2.7 OAuth的基本認證機制</a><!----></li><li class="depth-3" data-v-a97df893><a href="#_28-oauth-20-的角色定義" class="" data-v-a97df893>2.8 OAuth 2.0 的角色定義</a><!----></li><li class="depth-3" data-v-a97df893><a href="#_29-oauth的認證流程形式grant-type" class="" data-v-a97df893>2.9 OAuth的認證流程形式(Grant Type)</a><!----></li><li class="depth-3" data-v-a97df893><a href="#_210-authorization-code" class="" data-v-a97df893>2.10 Authorization Code</a><!----></li><!--]--></ul></li><!--]--></ul><!--]--></div></div></div></div><!--]--></div></div><!--]--></main><footer class="h-20 relative w-full z-20 text-center flex flex-col items-center justify-center" data-v-5c2f7786 data-v-47825797><div class="font-light" data-v-47825797>© 2022 Code Sense</div><div class="busuanzi flex" data-v-47825797><span class="flex" id="busuanzi_container_site_uv" data-v-47825797><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20" fill="currentColor" class="mt-1 mr-1 w-4 h-4" data-v-47825797><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg><span class="site-uv" title="訪客總數" data-v-47825797><span id="busuanzi_value_site_uv" data-v-47825797></span></span></span><span class="mx-2" data-v-47825797>|</span><span class="flex" id="busuanzi_container_site_pv" data-v-47825797><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20" fill="currentColor" class="mt-1 mr-1 w-4 h-4" data-v-47825797><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path></svg><span class="site-pv" title="總瀏覽次數" data-v-47825797><span id="busuanzi_value_site_pv" data-v-47825797></span></span></span></div></footer></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/code-study-test/web-api/chapter2/_payload.json">[{"state":1,"_errors":3660,"serverRendered":5,"path":11,"prerenderedAt":3663},["Reactive",2],{"$scolor-mode":3,"$sdd-pages":7,"$sdd-surrounds":3531,"$sdd-globals":3551,"$sdd-navigation":3553,"$sicons":3634,"$sasideScroll":3654,"$sdocus-docs-aside-collapse-map-/":3655,"$sdocus-docs-aside-collapse-map-/ddia":3656,"$sdocus-docs-aside-collapse-map-/cicd-2.0":3657,"$sdocus-docs-aside-collapse-map-/web-api":3658,"$sdocus-docs-aside-collapse-map-/api":3659},{"preference":4,"value":4,"unknown":5,"forced":6},"system",true,false,["ShallowRef",8],["ShallowReactive",9],{"/web-api/chapter2":10},{"_path":11,"_dir":12,"_draft":6,"_partial":6,"_locale":13,"title":14,"description":14,"position":15,"category":16,"menuTitle":17,"contributors":18,"body":21,"_type":3525,"_id":3526,"_source":3527,"_file":3528,"_extension":3529,"layout":3530},"/web-api/chapter2","web-api","","第2章 EndPoint設計與請求形式",98,"Web API的設計與開發","Chapter 02",[19,20],"changemyminds","spyua",{"type":22,"children":23,"toc":3500},"root",[24,33,39,139,145,152,157,166,177,210,905,911,1011,1040,1046,1567,1580,1587,1689,1694,1761,1772,1791,1797,1803,1808,1816,1837,1891,1900,1931,1939,1947,1967,1973,1990,2013,2019,2024,2042,2048,2053,2061,2067,2072,2080,2088,2096,2101,2131,2139,2198,2204,2209,2222,2227,2234,2239,2262,2268,2273,2280,2313,2318,2325,2330,2336,2359,2365,2378,2451,2461,2467,2472,2479,2484,2489,2494,2499,2504,2590,2598,2602,2607,2612,2617,2660,2668,2704,2707,2712,2717,2784,2790,2831,2839,2844,2849,2863,2871,2880,2885,2890,2895,2902,2907,2911,2916,2920,2925,3000,3005,3010,3015,3020,3024,3029,3033,3038,3043,3048,3053,3123,3128,3133,3138,3143,3151,3159,3164,3169,3174,3181,3186,3191,3196,3201,3206,3210,3278,3283,3288,3292,3296,3304,3309,3314,3319,3326,3331,3336,3340,3382,3390,3395,3400,3413,3421,3426,3433,3439,3444,3451,3463,3468,3475,3484,3494],{"type":25,"tag":26,"props":27,"children":29},"element","h2",{"id":28},"_21-設計通過api公開的功能",[30],{"type":31,"value":32},"text","2.1 設計通過API公開的功能",{"type":25,"tag":34,"props":35,"children":36},"p",{},[37],{"type":31,"value":38},"SNS在線服務功能",{"type":25,"tag":40,"props":41,"children":42},"ul",{},[43,49,54,59,64,69,74,79,84,89,94,99,104,109,114,119,124,129,134],{"type":25,"tag":44,"props":45,"children":46},"li",{},[47],{"type":31,"value":48},"使用者註冊",{"type":25,"tag":44,"props":50,"children":51},{},[52],{"type":31,"value":53},"登入",{"type":25,"tag":44,"props":55,"children":56},{},[57],{"type":31,"value":58},"獲取自己的資訊",{"type":25,"tag":44,"props":60,"children":61},{},[62],{"type":31,"value":63},"更新自己的資訊",{"type":25,"tag":44,"props":65,"children":66},{},[67],{"type":31,"value":68},"取得使用者資訊",{"type":25,"tag":44,"props":70,"children":71},{},[72],{"type":31,"value":73},"搜尋使用者",{"type":25,"tag":44,"props":75,"children":76},{},[77],{"type":31,"value":78},"添加好友",{"type":25,"tag":44,"props":80,"children":81},{},[82],{"type":31,"value":83},"刪除好友",{"type":25,"tag":44,"props":85,"children":86},{},[87],{"type":31,"value":88},"取得好友列表",{"type":25,"tag":44,"props":90,"children":91},{},[92],{"type":31,"value":93},"搜尋好友",{"type":25,"tag":44,"props":95,"children":96},{},[97],{"type":31,"value":98},"發送消息",{"type":25,"tag":44,"props":100,"children":101},{},[102],{"type":31,"value":103},"取得好友的訊息",{"type":25,"tag":44,"props":105,"children":106},{},[107],{"type":31,"value":108},"編輯訊息",{"type":25,"tag":44,"props":110,"children":111},{},[112],{"type":31,"value":113},"刪除訊息",{"type":25,"tag":44,"props":115,"children":116},{},[117],{"type":31,"value":118},"好友動態列表",{"type":25,"tag":44,"props":120,"children":121},{},[122],{"type":31,"value":123},"特定用的動態列表",{"type":25,"tag":44,"props":125,"children":126},{},[127],{"type":31,"value":128},"發表動態訊息",{"type":25,"tag":44,"props":130,"children":131},{},[132],{"type":31,"value":133},"編輯動態訊息",{"type":25,"tag":44,"props":135,"children":136},{},[137],{"type":31,"value":138},"刪除動態訊息",{"type":25,"tag":26,"props":140,"children":142},{"id":141},"_22-api-endpoint的設計思想",[143],{"type":31,"value":144},"2.2 API EndPoint的設計思想",{"type":25,"tag":146,"props":147,"children":149},"h4",{"id":148},"endpoint的基本設計",[150],{"type":31,"value":151},"EndPoint的基本設計",{"type":25,"tag":34,"props":153,"children":154},{},[155],{"type":31,"value":156},"怎麼設計一個優秀的URI，有一個重要的原則",{"type":25,"tag":158,"props":159,"children":160},"blockquote",{},[161],{"type":25,"tag":34,"props":162,"children":163},{},[164],{"type":31,"value":165},"容易記憶，URI包含的功能一目了然",{"type":25,"tag":34,"props":167,"children":168},{},[169,171],{"type":31,"value":170},"💡",{"type":25,"tag":172,"props":173,"children":174},"strong",{},[175],{"type":31,"value":176},"容易記憶的原則如下",{"type":25,"tag":40,"props":178,"children":179},{},[180,185,190,195,200,205],{"type":25,"tag":44,"props":181,"children":182},{},[183],{"type":31,"value":184},"短小便於輸入的URI",{"type":25,"tag":44,"props":186,"children":187},{},[188],{"type":31,"value":189},"人可以讀懂的URI",{"type":25,"tag":44,"props":191,"children":192},{},[193],{"type":31,"value":194},"沒有大小寫混用的URI",{"type":25,"tag":44,"props":196,"children":197},{},[198],{"type":31,"value":199},"修改方便的URI",{"type":25,"tag":44,"props":201,"children":202},{},[203],{"type":31,"value":204},"不會曝露伺服器架構的URI",{"type":25,"tag":44,"props":206,"children":207},{},[208],{"type":31,"value":209},"規則統一的URI",{"type":25,"tag":211,"props":212,"children":213},"ol",{},[214,278,377,547,705,787],{"type":25,"tag":44,"props":215,"children":216},{},[217,218,222,224,246,249,251,265,268,270],{"type":31,"value":184},{"type":25,"tag":219,"props":220,"children":221},"br",{},[],{"type":31,"value":223},"💀 反例",{"type":25,"tag":225,"props":226,"children":230},"pre",{"code":227,"language":228,"meta":13,"className":229,"style":13},"http://api.example.com/service/api/search\n","bash","language-bash shiki shiki-themes github-dark github-light",[231],{"type":25,"tag":232,"props":233,"children":234},"code",{"__ignoreMap":13},[235],{"type":25,"tag":236,"props":237,"children":240},"span",{"class":238,"line":239},"line",1,[241],{"type":25,"tag":236,"props":242,"children":244},{"style":243},"--shiki-dark:#B392F0;--shiki-default:#6F42C1",[245],{"type":31,"value":227},{"type":25,"tag":219,"props":247,"children":248},{},[],{"type":31,"value":250},"💡 正例",{"type":25,"tag":225,"props":252,"children":254},{"code":253,"language":228,"meta":13,"className":229,"style":13},"http://api.example.com/search\n",[255],{"type":25,"tag":232,"props":256,"children":257},{"__ignoreMap":13},[258],{"type":25,"tag":236,"props":259,"children":260},{"class":238,"line":239},[261],{"type":25,"tag":236,"props":262,"children":263},{"style":243},[264],{"type":31,"value":253},{"type":25,"tag":219,"props":266,"children":267},{},[],{"type":31,"value":269},"✅ 結論",{"type":25,"tag":158,"props":271,"children":272},{},[273],{"type":25,"tag":34,"props":274,"children":275},{},[276],{"type":31,"value":277},"將URI使用短小、簡單的方式進行表達，更易於理解和記憶。",{"type":25,"tag":44,"props":279,"children":280},{},[281,282,285,286,300,303,304,318,321,323,326,328,333,335,340,342,345,347,351,353,357,359,363,365,368,369],{"type":31,"value":189},{"type":25,"tag":219,"props":283,"children":284},{},[],{"type":31,"value":223},{"type":25,"tag":225,"props":287,"children":289},{"code":288,"language":228,"meta":13,"className":229,"style":13},"http://api.example.com/sv/u\n",[290],{"type":25,"tag":232,"props":291,"children":292},{"__ignoreMap":13},[293],{"type":25,"tag":236,"props":294,"children":295},{"class":238,"line":239},[296],{"type":25,"tag":236,"props":297,"children":298},{"style":243},[299],{"type":31,"value":288},{"type":25,"tag":219,"props":301,"children":302},{},[],{"type":31,"value":250},{"type":25,"tag":225,"props":305,"children":307},{"code":306,"language":228,"meta":13,"className":229,"style":13},"http://api.example.com/products/12345\n",[308],{"type":25,"tag":232,"props":309,"children":310},{"__ignoreMap":13},[311],{"type":25,"tag":236,"props":312,"children":313},{"class":238,"line":239},[314],{"type":25,"tag":236,"props":315,"children":316},{"style":243},[317],{"type":31,"value":306},{"type":25,"tag":219,"props":319,"children":320},{},[],{"type":31,"value":322},"📦 補充",{"type":25,"tag":219,"props":324,"children":325},{},[],{"type":31,"value":327},"API的設計查詢時，該使用",{"type":25,"tag":232,"props":329,"children":330},{"className":13},[331],{"type":31,"value":332},"search",{"type":31,"value":334},"還是",{"type":25,"tag":232,"props":336,"children":337},{"className":13},[338],{"type":31,"value":339},"find",{"type":31,"value":341},"詞彙?",{"type":25,"tag":219,"props":343,"children":344},{},[],{"type":31,"value":346},"通常使用",{"type":25,"tag":232,"props":348,"children":349},{"className":13},[350],{"type":31,"value":332},{"type":31,"value":352},"來表示，",{"type":25,"tag":232,"props":354,"children":355},{"className":13},[356],{"type":31,"value":332},{"type":31,"value":358},"表示在某個地方尋找，而",{"type":25,"tag":232,"props":360,"children":361},{"className":13},[362],{"type":31,"value":339},{"type":31,"value":364},"則是尋找某個特定物品。",{"type":25,"tag":219,"props":366,"children":367},{},[],{"type":31,"value":269},{"type":25,"tag":158,"props":370,"children":371},{},[372],{"type":25,"tag":34,"props":373,"children":374},{},[375],{"type":31,"value":376},"盡量少用縮寫，適當的使用完整的英文單字來表示。",{"type":25,"tag":44,"props":378,"children":379},{},[380,381,384,385,409,412,413,427,430,431,434,436,459,462,464,467,469,535,538,539],{"type":31,"value":194},{"type":25,"tag":219,"props":382,"children":383},{},[],{"type":31,"value":223},{"type":25,"tag":225,"props":386,"children":388},{"code":387,"language":228,"meta":13,"className":229,"style":13},"http://api.example.com/Users/12345\nhttp://example.com/API/getUserName\n",[389],{"type":25,"tag":232,"props":390,"children":391},{"__ignoreMap":13},[392,400],{"type":25,"tag":236,"props":393,"children":394},{"class":238,"line":239},[395],{"type":25,"tag":236,"props":396,"children":397},{"style":243},[398],{"type":31,"value":399},"http://api.example.com/Users/12345\n",{"type":25,"tag":236,"props":401,"children":403},{"class":238,"line":402},2,[404],{"type":25,"tag":236,"props":405,"children":406},{"style":243},[407],{"type":31,"value":408},"http://example.com/API/getUserName\n",{"type":25,"tag":219,"props":410,"children":411},{},[],{"type":31,"value":250},{"type":25,"tag":225,"props":414,"children":416},{"code":415,"language":228,"meta":13,"className":229,"style":13},"http://api.example.com/users/12345\n",[417],{"type":25,"tag":232,"props":418,"children":419},{"__ignoreMap":13},[420],{"type":25,"tag":236,"props":421,"children":422},{"class":238,"line":239},[423],{"type":25,"tag":236,"props":424,"children":425},{"style":243},[426],{"type":31,"value":415},{"type":25,"tag":219,"props":428,"children":429},{},[],{"type":31,"value":322},{"type":25,"tag":219,"props":432,"children":433},{},[],{"type":31,"value":435},"如果遇到兩種大小寫的URI進行混用時，應該如何進行處理?",{"type":25,"tag":225,"props":437,"children":439},{"code":438,"language":228,"meta":13,"className":229,"style":13},"http://example.com/USERS/12345\nhttp://example.com/users/12345\n",[440],{"type":25,"tag":232,"props":441,"children":442},{"__ignoreMap":13},[443,451],{"type":25,"tag":236,"props":444,"children":445},{"class":238,"line":239},[446],{"type":25,"tag":236,"props":447,"children":448},{"style":243},[449],{"type":31,"value":450},"http://example.com/USERS/12345\n",{"type":25,"tag":236,"props":452,"children":453},{"class":238,"line":402},[454],{"type":25,"tag":236,"props":455,"children":456},{"style":243},[457],{"type":31,"value":458},"http://example.com/users/12345\n",{"type":25,"tag":219,"props":460,"children":461},{},[],{"type":31,"value":463},"在普通的Web網站下，如果採用了不論大小寫都會返回相同的結果會出現一種問題，會導致Google等搜尋引    擎會認為有多個頁面返回了相同的結果而導致網站排名進行下降。",{"type":25,"tag":219,"props":465,"children":466},{},[],{"type":31,"value":468},"參考下列服務，當遇到大寫字母的URI時，會自動返回404",{"type":25,"tag":470,"props":471,"children":472},"table",{},[473,493],{"type":25,"tag":474,"props":475,"children":476},"thead",{},[477],{"type":25,"tag":478,"props":479,"children":480},"tr",{},[481,487],{"type":25,"tag":482,"props":483,"children":484},"th",{},[485],{"type":31,"value":486},"在線服務",{"type":25,"tag":482,"props":488,"children":490},{"align":489},"center",[491],{"type":31,"value":492},"處理混有大寫字母的URL",{"type":25,"tag":494,"props":495,"children":496},"tbody",{},[497,511,523],{"type":25,"tag":478,"props":498,"children":499},{},[500,506],{"type":25,"tag":501,"props":502,"children":503},"td",{},[504],{"type":31,"value":505},"Foursqare",{"type":25,"tag":501,"props":507,"children":508},{"align":489},[509],{"type":31,"value":510},"出錯404",{"type":25,"tag":478,"props":512,"children":513},{},[514,519],{"type":25,"tag":501,"props":515,"children":516},{},[517],{"type":31,"value":518},"Github",{"type":25,"tag":501,"props":520,"children":521},{"align":489},[522],{"type":31,"value":510},{"type":25,"tag":478,"props":524,"children":525},{},[526,531],{"type":25,"tag":501,"props":527,"children":528},{},[529],{"type":31,"value":530},"Tumblr",{"type":25,"tag":501,"props":532,"children":533},{"align":489},[534],{"type":31,"value":510},{"type":25,"tag":219,"props":536,"children":537},{},[],{"type":31,"value":269},{"type":25,"tag":158,"props":540,"children":541},{},[542],{"type":25,"tag":34,"props":543,"children":544},{},[545],{"type":31,"value":546},"盡量不要使用大小寫字母混用會造成API難以理解，一般標準的做法是，統一使用小寫的URI。",{"type":25,"tag":44,"props":548,"children":549},{},[550,551,554,556,561,563,566,567,570,572,675,678,679,693,696,697],{"type":31,"value":199},{"type":25,"tag":219,"props":552,"children":553},{},[],{"type":31,"value":555},"修改方便在英語文語意為",{"type":25,"tag":232,"props":557,"children":558},{"className":13},[559],{"type":31,"value":560},"Hackable",{"type":31,"value":562},"。修改方便的URI指的是能將某個URI非常容易修改為另外一個URI。    通常應用在獲取某種商品。",{"type":25,"tag":219,"props":564,"children":565},{},[],{"type":31,"value":223},{"type":25,"tag":219,"props":568,"children":569},{},[],{"type":31,"value":571},"按照資料庫的資料表進行結構區分，例如: 1 ~ 300000儲存到alpha資表表內。",{"type":25,"tag":225,"props":573,"children":575},{"code":574,"language":228,"meta":13,"className":229,"style":13},"# ID的範圍 1 ~ 300000\nhttp://api.example.com/v1/items/alpha/:id\n\n# ID的範圍 400001 ~ 500000\nhttp://api.example.com/v1/items/beta/:id\n\n# ID的範圍 500001 ~ 700000\nhttp://api.example.com/v1/items/gamma/:id\n\n# ID的範圍 700001 ~\nhttp://api.example.com/v1/items/delta/:id\n",[576],{"type":25,"tag":232,"props":577,"children":578},{"__ignoreMap":13},[579,588,596,605,614,623,631,640,649,657,666],{"type":25,"tag":236,"props":580,"children":581},{"class":238,"line":239},[582],{"type":25,"tag":236,"props":583,"children":585},{"style":584},"--shiki-dark:#6A737D;--shiki-default:#6A737D",[586],{"type":31,"value":587},"# ID的範圍 1 ~ 300000\n",{"type":25,"tag":236,"props":589,"children":590},{"class":238,"line":402},[591],{"type":25,"tag":236,"props":592,"children":593},{"style":243},[594],{"type":31,"value":595},"http://api.example.com/v1/items/alpha/:id\n",{"type":25,"tag":236,"props":597,"children":599},{"class":238,"line":598},3,[600],{"type":25,"tag":236,"props":601,"children":602},{"emptyLinePlaceholder":5},[603],{"type":31,"value":604},"\n",{"type":25,"tag":236,"props":606,"children":608},{"class":238,"line":607},4,[609],{"type":25,"tag":236,"props":610,"children":611},{"style":584},[612],{"type":31,"value":613},"# ID的範圍 400001 ~ 500000\n",{"type":25,"tag":236,"props":615,"children":617},{"class":238,"line":616},5,[618],{"type":25,"tag":236,"props":619,"children":620},{"style":243},[621],{"type":31,"value":622},"http://api.example.com/v1/items/beta/:id\n",{"type":25,"tag":236,"props":624,"children":626},{"class":238,"line":625},6,[627],{"type":25,"tag":236,"props":628,"children":629},{"emptyLinePlaceholder":5},[630],{"type":31,"value":604},{"type":25,"tag":236,"props":632,"children":634},{"class":238,"line":633},7,[635],{"type":25,"tag":236,"props":636,"children":637},{"style":584},[638],{"type":31,"value":639},"# ID的範圍 500001 ~ 700000\n",{"type":25,"tag":236,"props":641,"children":643},{"class":238,"line":642},8,[644],{"type":25,"tag":236,"props":645,"children":646},{"style":243},[647],{"type":31,"value":648},"http://api.example.com/v1/items/gamma/:id\n",{"type":25,"tag":236,"props":650,"children":652},{"class":238,"line":651},9,[653],{"type":25,"tag":236,"props":654,"children":655},{"emptyLinePlaceholder":5},[656],{"type":31,"value":604},{"type":25,"tag":236,"props":658,"children":660},{"class":238,"line":659},10,[661],{"type":25,"tag":236,"props":662,"children":663},{"style":584},[664],{"type":31,"value":665},"# ID的範圍 700001 ~\n",{"type":25,"tag":236,"props":667,"children":669},{"class":238,"line":668},11,[670],{"type":25,"tag":236,"props":671,"children":672},{"style":243},[673],{"type":31,"value":674},"http://api.example.com/v1/items/delta/:id\n",{"type":25,"tag":219,"props":676,"children":677},{},[],{"type":31,"value":250},{"type":25,"tag":225,"props":680,"children":682},{"code":681,"language":228,"meta":13,"className":229,"style":13},"http://api.example.com/v1/items/123456\n",[683],{"type":25,"tag":232,"props":684,"children":685},{"__ignoreMap":13},[686],{"type":25,"tag":236,"props":687,"children":688},{"class":238,"line":239},[689],{"type":25,"tag":236,"props":690,"children":691},{"style":243},[692],{"type":31,"value":681},{"type":25,"tag":219,"props":694,"children":695},{},[],{"type":31,"value":269},{"type":25,"tag":158,"props":698,"children":699},{},[700],{"type":25,"tag":34,"props":701,"children":702},{},[703],{"type":31,"value":704},"盡量讓URI的延展性佳(這邊指的是/items/{id})，可以藉由輸入不同的編號，來修改URI，而不是必須    要去猜測。",{"type":25,"tag":44,"props":706,"children":707},{},[708,709,712,713,734,737,738,752,755,756],{"type":31,"value":204},{"type":25,"tag":219,"props":710,"children":711},{},[],{"type":31,"value":223},{"type":25,"tag":225,"props":714,"children":716},{"code":715,"language":228,"meta":13,"className":229,"style":13},"http://api.example.com/cgi-bin/get_user.php?user=100\n",[717],{"type":25,"tag":232,"props":718,"children":719},{"__ignoreMap":13},[720],{"type":25,"tag":236,"props":721,"children":722},{"class":238,"line":239},[723,728],{"type":25,"tag":236,"props":724,"children":725},{"style":243},[726],{"type":31,"value":727},"http://api.example.com/cgi-bin/get_user.php?user",{"type":25,"tag":236,"props":729,"children":731},{"style":730},"--shiki-dark:#E1E4E8;--shiki-default:#24292E",[732],{"type":31,"value":733},"=100\n",{"type":25,"tag":219,"props":735,"children":736},{},[],{"type":31,"value":250},{"type":25,"tag":225,"props":739,"children":741},{"code":740,"language":228,"meta":13,"className":229,"style":13},"http://api.example.com/user/100\n",[742],{"type":25,"tag":232,"props":743,"children":744},{"__ignoreMap":13},[745],{"type":25,"tag":236,"props":746,"children":747},{"class":238,"line":239},[748],{"type":25,"tag":236,"props":749,"children":750},{"style":243},[751],{"type":31,"value":740},{"type":25,"tag":219,"props":753,"children":754},{},[],{"type":31,"value":269},{"type":25,"tag":158,"props":757,"children":758},{},[759,764],{"type":25,"tag":34,"props":760,"children":761},{},[762],{"type":31,"value":763},"不要將無意義的資訊暴露出來。例如:",{"type":25,"tag":211,"props":765,"children":766},{},[767,777],{"type":25,"tag":44,"props":768,"children":769},{},[770,775],{"type":25,"tag":232,"props":771,"children":772},{"className":13},[773],{"type":31,"value":774},"cgi-bin",{"type":31,"value":776},"，可以猜測你可能是使用CGI的方式運行。",{"type":25,"tag":44,"props":778,"children":779},{},[780,785],{"type":25,"tag":232,"props":781,"children":782},{"className":13},[783],{"type":31,"value":784},"get_user.php",{"type":31,"value":786},"，可以猜測你可能是使用php進行撰寫。",{"type":25,"tag":44,"props":788,"children":789},{},[790,791,794,795,845,848,849,893,896,897],{"type":31,"value":209},{"type":25,"tag":219,"props":792,"children":793},{},[],{"type":31,"value":223},{"type":25,"tag":225,"props":796,"children":798},{"code":797,"language":228,"meta":13,"className":229,"style":13},"# 獲取好友資訊\nhttp://api.example.com/friends?id=100\n\n# 發送好友資訊\nhttp://api.example.com/friend/100/message\n",[799],{"type":25,"tag":232,"props":800,"children":801},{"__ignoreMap":13},[802,810,822,829,837],{"type":25,"tag":236,"props":803,"children":804},{"class":238,"line":239},[805],{"type":25,"tag":236,"props":806,"children":807},{"style":584},[808],{"type":31,"value":809},"# 獲取好友資訊\n",{"type":25,"tag":236,"props":811,"children":812},{"class":238,"line":402},[813,818],{"type":25,"tag":236,"props":814,"children":815},{"style":243},[816],{"type":31,"value":817},"http://api.example.com/friends?id",{"type":25,"tag":236,"props":819,"children":820},{"style":730},[821],{"type":31,"value":733},{"type":25,"tag":236,"props":823,"children":824},{"class":238,"line":598},[825],{"type":25,"tag":236,"props":826,"children":827},{"emptyLinePlaceholder":5},[828],{"type":31,"value":604},{"type":25,"tag":236,"props":830,"children":831},{"class":238,"line":607},[832],{"type":25,"tag":236,"props":833,"children":834},{"style":584},[835],{"type":31,"value":836},"# 發送好友資訊\n",{"type":25,"tag":236,"props":838,"children":839},{"class":238,"line":616},[840],{"type":25,"tag":236,"props":841,"children":842},{"style":243},[843],{"type":31,"value":844},"http://api.example.com/friend/100/message\n",{"type":25,"tag":219,"props":846,"children":847},{},[],{"type":31,"value":250},{"type":25,"tag":225,"props":850,"children":852},{"code":851,"language":228,"meta":13,"className":229,"style":13},"# 獲取好友資訊\nhttp://api.example.com/friends/100\n\n# 發送好友資訊\nhttp://api.example.com/friends/100/message\n",[853],{"type":25,"tag":232,"props":854,"children":855},{"__ignoreMap":13},[856,863,871,878,885],{"type":25,"tag":236,"props":857,"children":858},{"class":238,"line":239},[859],{"type":25,"tag":236,"props":860,"children":861},{"style":584},[862],{"type":31,"value":809},{"type":25,"tag":236,"props":864,"children":865},{"class":238,"line":402},[866],{"type":25,"tag":236,"props":867,"children":868},{"style":243},[869],{"type":31,"value":870},"http://api.example.com/friends/100\n",{"type":25,"tag":236,"props":872,"children":873},{"class":238,"line":598},[874],{"type":25,"tag":236,"props":875,"children":876},{"emptyLinePlaceholder":5},[877],{"type":31,"value":604},{"type":25,"tag":236,"props":879,"children":880},{"class":238,"line":607},[881],{"type":25,"tag":236,"props":882,"children":883},{"style":584},[884],{"type":31,"value":836},{"type":25,"tag":236,"props":886,"children":887},{"class":238,"line":616},[888],{"type":25,"tag":236,"props":889,"children":890},{"style":243},[891],{"type":31,"value":892},"http://api.example.com/friends/100/message\n",{"type":25,"tag":219,"props":894,"children":895},{},[],{"type":31,"value":269},{"type":25,"tag":158,"props":898,"children":899},{},[900],{"type":25,"tag":34,"props":901,"children":902},{},[903],{"type":31,"value":904},"統一URI的設計，讓使用者易於理解。",{"type":25,"tag":26,"props":906,"children":908},{"id":907},"_23-http方法和endpoint",[909],{"type":31,"value":910},"2.3 HTTP方法和EndPoint",{"type":25,"tag":470,"props":912,"children":913},{},[914,930],{"type":25,"tag":474,"props":915,"children":916},{},[917],{"type":25,"tag":478,"props":918,"children":919},{},[920,925],{"type":25,"tag":482,"props":921,"children":922},{},[923],{"type":31,"value":924},"方法名稱",{"type":25,"tag":482,"props":926,"children":927},{"align":489},[928],{"type":31,"value":929},"說明",{"type":25,"tag":494,"props":931,"children":932},{},[933,946,959,972,985,998],{"type":25,"tag":478,"props":934,"children":935},{},[936,941],{"type":25,"tag":501,"props":937,"children":938},{},[939],{"type":31,"value":940},"GET",{"type":25,"tag":501,"props":942,"children":943},{"align":489},[944],{"type":31,"value":945},"獲取資源",{"type":25,"tag":478,"props":947,"children":948},{},[949,954],{"type":25,"tag":501,"props":950,"children":951},{},[952],{"type":31,"value":953},"POST",{"type":25,"tag":501,"props":955,"children":956},{"align":489},[957],{"type":31,"value":958},"新增資源",{"type":25,"tag":478,"props":960,"children":961},{},[962,967],{"type":25,"tag":501,"props":963,"children":964},{},[965],{"type":31,"value":966},"PUT",{"type":25,"tag":501,"props":968,"children":969},{"align":489},[970],{"type":31,"value":971},"更新已有資源",{"type":25,"tag":478,"props":973,"children":974},{},[975,980],{"type":25,"tag":501,"props":976,"children":977},{},[978],{"type":31,"value":979},"DELETE",{"type":25,"tag":501,"props":981,"children":982},{"align":489},[983],{"type":31,"value":984},"刪除資源",{"type":25,"tag":478,"props":986,"children":987},{},[988,993],{"type":25,"tag":501,"props":989,"children":990},{},[991],{"type":31,"value":992},"PATCH",{"type":25,"tag":501,"props":994,"children":995},{"align":489},[996],{"type":31,"value":997},"更新部分資源",{"type":25,"tag":478,"props":999,"children":1000},{},[1001,1006],{"type":25,"tag":501,"props":1002,"children":1003},{},[1004],{"type":31,"value":1005},"HEAD",{"type":25,"tag":501,"props":1007,"children":1008},{"align":489},[1009],{"type":31,"value":1010},"獲取資源的Metadata資訊",{"type":25,"tag":158,"props":1012,"children":1013},{},[1014],{"type":25,"tag":34,"props":1015,"children":1016},{},[1017,1019,1022,1024,1027,1035,1037],{"type":31,"value":1018},"Metedata為描述資料的資料，舉例：描述HTML5這份文件的資料。 ",{"type":25,"tag":219,"props":1020,"children":1021},{},[],{"type":31,"value":1023},"\nMetedata不會呈現在畫面上，只會給瀏覽器和搜尋引擎查看。 ",{"type":25,"tag":219,"props":1025,"children":1026},{},[],{"type":25,"tag":1028,"props":1029,"children":1033},"a",{"href":1030,"rel":1031},"https://ithelp.ithome.com.tw/articles/10237545",[1032],"nofollow",[1034],{"type":31,"value":1030},{"type":31,"value":1036}," ",{"type":25,"tag":219,"props":1038,"children":1039},{},[],{"type":25,"tag":26,"props":1041,"children":1043},{"id":1042},"_24-api端點的設計",[1044],{"type":31,"value":1045},"2.4 API端點的設計",{"type":25,"tag":470,"props":1047,"children":1048},{},[1049,1075],{"type":25,"tag":474,"props":1050,"children":1051},{},[1052],{"type":25,"tag":478,"props":1053,"children":1054},{},[1055,1060,1065,1070],{"type":25,"tag":482,"props":1056,"children":1057},{},[1058],{"type":31,"value":1059},"目的",{"type":25,"tag":482,"props":1061,"children":1062},{"align":489},[1063],{"type":31,"value":1064},"EndPoint",{"type":25,"tag":482,"props":1066,"children":1067},{"align":489},[1068],{"type":31,"value":1069},"方法",{"type":25,"tag":482,"props":1071,"children":1072},{"align":489},[1073],{"type":31,"value":1074},"其他相同",{"type":25,"tag":494,"props":1076,"children":1077},{},[1078,1124,1147,1181,1213,1249,1272,1295,1317,1340,1362,1385,1408,1430,1452,1475,1499,1522,1545],{"type":25,"tag":478,"props":1079,"children":1080},{},[1081,1085,1116,1120],{"type":25,"tag":501,"props":1082,"children":1083},{},[1084],{"type":31,"value":48},{"type":25,"tag":501,"props":1086,"children":1087},{"align":489},[1088,1094,1095,1098,1099,1105,1106,1109,1110],{"type":25,"tag":1028,"props":1089,"children":1092},{"href":1090,"rel":1091},"http://api.example.com/v1/users",[1032],[1093],{"type":31,"value":1090},{"type":31,"value":1036},{"type":25,"tag":219,"props":1096,"children":1097},{},[],{"type":31,"value":1036},{"type":25,"tag":1028,"props":1100,"children":1103},{"href":1101,"rel":1102},"http://api.example.com/v1/auth/sign",[1032],[1104],{"type":31,"value":1101},{"type":31,"value":1036},{"type":25,"tag":219,"props":1107,"children":1108},{},[],{"type":31,"value":1036},{"type":25,"tag":1028,"props":1111,"children":1114},{"href":1112,"rel":1113},"http://api.example.com/v1/auth/register",[1032],[1115],{"type":31,"value":1112},{"type":25,"tag":501,"props":1117,"children":1118},{"align":489},[1119],{"type":31,"value":953},{"type":25,"tag":501,"props":1121,"children":1122},{"align":489},[1123],{"type":31,"value":1074},{"type":25,"tag":478,"props":1125,"children":1126},{},[1127,1131,1140,1144],{"type":25,"tag":501,"props":1128,"children":1129},{},[1130],{"type":31,"value":53},{"type":25,"tag":501,"props":1132,"children":1133},{"align":489},[1134],{"type":25,"tag":1028,"props":1135,"children":1138},{"href":1136,"rel":1137},"http://api.example.com/v1/auth/login",[1032],[1139],{"type":31,"value":1136},{"type":25,"tag":501,"props":1141,"children":1142},{"align":489},[1143],{"type":31,"value":953},{"type":25,"tag":501,"props":1145,"children":1146},{"align":489},[],{"type":25,"tag":478,"props":1148,"children":1149},{},[1150,1154,1174,1178],{"type":25,"tag":501,"props":1151,"children":1152},{},[1153],{"type":31,"value":58},{"type":25,"tag":501,"props":1155,"children":1156},{"align":489},[1157,1163,1164,1167,1168],{"type":25,"tag":1028,"props":1158,"children":1161},{"href":1159,"rel":1160},"http://api.example.com/v1/users/me",[1032],[1162],{"type":31,"value":1159},{"type":31,"value":1036},{"type":25,"tag":219,"props":1165,"children":1166},{},[],{"type":31,"value":1036},{"type":25,"tag":1028,"props":1169,"children":1172},{"href":1170,"rel":1171},"http://api.example.com/v1/auth/me",[1032],[1173],{"type":31,"value":1170},{"type":25,"tag":501,"props":1175,"children":1176},{"align":489},[1177],{"type":31,"value":940},{"type":25,"tag":501,"props":1179,"children":1180},{"align":489},[],{"type":25,"tag":478,"props":1182,"children":1183},{},[1184,1188,1206,1210],{"type":25,"tag":501,"props":1185,"children":1186},{},[1187],{"type":31,"value":63},{"type":25,"tag":501,"props":1189,"children":1190},{"align":489},[1191,1196,1197,1200,1201],{"type":25,"tag":1028,"props":1192,"children":1194},{"href":1159,"rel":1193},[1032],[1195],{"type":31,"value":1159},{"type":31,"value":1036},{"type":25,"tag":219,"props":1198,"children":1199},{},[],{"type":31,"value":1036},{"type":25,"tag":1028,"props":1202,"children":1204},{"href":1170,"rel":1203},[1032],[1205],{"type":31,"value":1170},{"type":25,"tag":501,"props":1207,"children":1208},{"align":489},[1209],{"type":31,"value":966},{"type":25,"tag":501,"props":1211,"children":1212},{"align":489},[],{"type":25,"tag":478,"props":1214,"children":1215},{},[1216,1220,1241,1245],{"type":25,"tag":501,"props":1217,"children":1218},{},[1219],{"type":31,"value":68},{"type":25,"tag":501,"props":1221,"children":1222},{"align":489},[1223,1229,1230,1233,1234],{"type":25,"tag":1028,"props":1224,"children":1227},{"href":1225,"rel":1226},"http://api.example.com/v1/users/:id",[1032],[1228],{"type":31,"value":1225},{"type":31,"value":1036},{"type":25,"tag":219,"props":1231,"children":1232},{},[],{"type":31,"value":1036},{"type":25,"tag":1028,"props":1235,"children":1238},{"href":1236,"rel":1237},"http://api.example.com/v1/users/%7Bid%7D",[1032],[1239],{"type":31,"value":1240},"http://api.example.com/v1/users/{id}",{"type":25,"tag":501,"props":1242,"children":1243},{"align":489},[1244],{"type":31,"value":940},{"type":25,"tag":501,"props":1246,"children":1247},{"align":489},[1248],{"type":31,"value":73},{"type":25,"tag":478,"props":1250,"children":1251},{},[1252,1257,1265,1269],{"type":25,"tag":501,"props":1253,"children":1254},{},[1255],{"type":31,"value":1256},"取得使用者列表",{"type":25,"tag":501,"props":1258,"children":1259},{"align":489},[1260],{"type":25,"tag":1028,"props":1261,"children":1263},{"href":1090,"rel":1262},[1032],[1264],{"type":31,"value":1090},{"type":25,"tag":501,"props":1266,"children":1267},{"align":489},[1268],{"type":31,"value":940},{"type":25,"tag":501,"props":1270,"children":1271},{"align":489},[],{"type":25,"tag":478,"props":1273,"children":1274},{},[1275,1279,1288,1292],{"type":25,"tag":501,"props":1276,"children":1277},{},[1278],{"type":31,"value":88},{"type":25,"tag":501,"props":1280,"children":1281},{"align":489},[1282],{"type":25,"tag":1028,"props":1283,"children":1286},{"href":1284,"rel":1285},"http://api.example.com/v1/users/:id/friends",[1032],[1287],{"type":31,"value":1284},{"type":25,"tag":501,"props":1289,"children":1290},{"align":489},[1291],{"type":31,"value":940},{"type":25,"tag":501,"props":1293,"children":1294},{"align":489},[],{"type":25,"tag":478,"props":1296,"children":1297},{},[1298,1302,1310,1314],{"type":25,"tag":501,"props":1299,"children":1300},{},[1301],{"type":31,"value":78},{"type":25,"tag":501,"props":1303,"children":1304},{"align":489},[1305],{"type":25,"tag":1028,"props":1306,"children":1308},{"href":1284,"rel":1307},[1032],[1309],{"type":31,"value":1284},{"type":25,"tag":501,"props":1311,"children":1312},{"align":489},[1313],{"type":31,"value":953},{"type":25,"tag":501,"props":1315,"children":1316},{"align":489},[],{"type":25,"tag":478,"props":1318,"children":1319},{},[1320,1324,1333,1337],{"type":25,"tag":501,"props":1321,"children":1322},{},[1323],{"type":31,"value":83},{"type":25,"tag":501,"props":1325,"children":1326},{"align":489},[1327],{"type":25,"tag":1028,"props":1328,"children":1331},{"href":1329,"rel":1330},"http://api.example.com/v1/users/:id/friends/:id",[1032],[1332],{"type":31,"value":1329},{"type":25,"tag":501,"props":1334,"children":1335},{"align":489},[1336],{"type":31,"value":979},{"type":25,"tag":501,"props":1338,"children":1339},{"align":489},[],{"type":25,"tag":478,"props":1341,"children":1342},{},[1343,1347,1355,1359],{"type":25,"tag":501,"props":1344,"children":1345},{},[1346],{"type":31,"value":93},{"type":25,"tag":501,"props":1348,"children":1349},{"align":489},[1350],{"type":25,"tag":1028,"props":1351,"children":1353},{"href":1329,"rel":1352},[1032],[1354],{"type":31,"value":1329},{"type":25,"tag":501,"props":1356,"children":1357},{"align":489},[1358],{"type":31,"value":940},{"type":25,"tag":501,"props":1360,"children":1361},{"align":489},[],{"type":25,"tag":478,"props":1363,"children":1364},{},[1365,1369,1378,1382],{"type":25,"tag":501,"props":1366,"children":1367},{},[1368],{"type":31,"value":98},{"type":25,"tag":501,"props":1370,"children":1371},{"align":489},[1372],{"type":25,"tag":1028,"props":1373,"children":1376},{"href":1374,"rel":1375},"http://api.example.com/v1/friends/:id/message",[1032],[1377],{"type":31,"value":1374},{"type":25,"tag":501,"props":1379,"children":1380},{"align":489},[1381],{"type":31,"value":953},{"type":25,"tag":501,"props":1383,"children":1384},{"align":489},[],{"type":25,"tag":478,"props":1386,"children":1387},{},[1388,1392,1401,1405],{"type":25,"tag":501,"props":1389,"children":1390},{},[1391],{"type":31,"value":103},{"type":25,"tag":501,"props":1393,"children":1394},{"align":489},[1395],{"type":25,"tag":1028,"props":1396,"children":1399},{"href":1397,"rel":1398},"http://api.example.com/v1/friends/:id",[1032],[1400],{"type":31,"value":1397},{"type":25,"tag":501,"props":1402,"children":1403},{"align":489},[1404],{"type":31,"value":940},{"type":25,"tag":501,"props":1406,"children":1407},{"align":489},[],{"type":25,"tag":478,"props":1409,"children":1410},{},[1411,1415,1423,1427],{"type":25,"tag":501,"props":1412,"children":1413},{},[1414],{"type":31,"value":108},{"type":25,"tag":501,"props":1416,"children":1417},{"align":489},[1418],{"type":25,"tag":1028,"props":1419,"children":1421},{"href":1397,"rel":1420},[1032],[1422],{"type":31,"value":1397},{"type":25,"tag":501,"props":1424,"children":1425},{"align":489},[1426],{"type":31,"value":966},{"type":25,"tag":501,"props":1428,"children":1429},{"align":489},[],{"type":25,"tag":478,"props":1431,"children":1432},{},[1433,1437,1445,1449],{"type":25,"tag":501,"props":1434,"children":1435},{},[1436],{"type":31,"value":113},{"type":25,"tag":501,"props":1438,"children":1439},{"align":489},[1440],{"type":25,"tag":1028,"props":1441,"children":1443},{"href":1397,"rel":1442},[1032],[1444],{"type":31,"value":1397},{"type":25,"tag":501,"props":1446,"children":1447},{"align":489},[1448],{"type":31,"value":979},{"type":25,"tag":501,"props":1450,"children":1451},{"align":489},[],{"type":25,"tag":478,"props":1453,"children":1454},{},[1455,1459,1468,1472],{"type":25,"tag":501,"props":1456,"children":1457},{},[1458],{"type":31,"value":118},{"type":25,"tag":501,"props":1460,"children":1461},{"align":489},[1462],{"type":25,"tag":1028,"props":1463,"children":1466},{"href":1464,"rel":1465},"http://api.example.com/v1/users/:id/friends/updates",[1032],[1467],{"type":31,"value":1464},{"type":25,"tag":501,"props":1469,"children":1470},{"align":489},[1471],{"type":31,"value":940},{"type":25,"tag":501,"props":1473,"children":1474},{"align":489},[],{"type":25,"tag":478,"props":1476,"children":1477},{},[1478,1483,1492,1496],{"type":25,"tag":501,"props":1479,"children":1480},{},[1481],{"type":31,"value":1482},"取得特定使用者的動態訊息",{"type":25,"tag":501,"props":1484,"children":1485},{"align":489},[1486],{"type":25,"tag":1028,"props":1487,"children":1490},{"href":1488,"rel":1489},"http://api.example.com/v1/users/:id/updates",[1032],[1491],{"type":31,"value":1488},{"type":25,"tag":501,"props":1493,"children":1494},{"align":489},[1495],{"type":31,"value":940},{"type":25,"tag":501,"props":1497,"children":1498},{"align":489},[],{"type":25,"tag":478,"props":1500,"children":1501},{},[1502,1506,1515,1519],{"type":25,"tag":501,"props":1503,"children":1504},{},[1505],{"type":31,"value":128},{"type":25,"tag":501,"props":1507,"children":1508},{"align":489},[1509],{"type":25,"tag":1028,"props":1510,"children":1513},{"href":1511,"rel":1512},"http://api.example.com/v1/updates",[1032],[1514],{"type":31,"value":1511},{"type":25,"tag":501,"props":1516,"children":1517},{"align":489},[1518],{"type":31,"value":953},{"type":25,"tag":501,"props":1520,"children":1521},{"align":489},[],{"type":25,"tag":478,"props":1523,"children":1524},{},[1525,1529,1538,1542],{"type":25,"tag":501,"props":1526,"children":1527},{},[1528],{"type":31,"value":133},{"type":25,"tag":501,"props":1530,"children":1531},{"align":489},[1532],{"type":25,"tag":1028,"props":1533,"children":1536},{"href":1534,"rel":1535},"http://api.example.com/v1/updates/:id",[1032],[1537],{"type":31,"value":1534},{"type":25,"tag":501,"props":1539,"children":1540},{"align":489},[1541],{"type":31,"value":966},{"type":25,"tag":501,"props":1543,"children":1544},{"align":489},[],{"type":25,"tag":478,"props":1546,"children":1547},{},[1548,1552,1560,1564],{"type":25,"tag":501,"props":1549,"children":1550},{},[1551],{"type":31,"value":138},{"type":25,"tag":501,"props":1553,"children":1554},{"align":489},[1555],{"type":25,"tag":1028,"props":1556,"children":1558},{"href":1534,"rel":1557},[1032],[1559],{"type":31,"value":1534},{"type":25,"tag":501,"props":1561,"children":1562},{"align":489},[1563],{"type":31,"value":979},{"type":25,"tag":501,"props":1565,"children":1566},{"align":489},[],{"type":25,"tag":158,"props":1568,"children":1569},{},[1570],{"type":25,"tag":34,"props":1571,"children":1572},{},[1573,1578],{"type":25,"tag":232,"props":1574,"children":1575},{"className":13},[1576],{"type":31,"value":1577},":id",{"type":31,"value":1579},"為佔位符號",{"type":25,"tag":1581,"props":1582,"children":1584},"h3",{"id":1583},"_241-訪問資源的endpoint設計的注意事項",[1585],{"type":31,"value":1586},"2.4.1 訪問資源的EndPoint設計的注意事項",{"type":25,"tag":211,"props":1588,"children":1589},{},[1590,1618,1664],{"type":25,"tag":44,"props":1591,"children":1592},{},[1593,1595],{"type":31,"value":1594},"使用名詞的複數形式",{"type":25,"tag":40,"props":1596,"children":1597},{},[1598,1608],{"type":25,"tag":44,"props":1599,"children":1600},{},[1601,1606],{"type":25,"tag":232,"props":1602,"children":1603},{"className":13},[1604],{"type":31,"value":1605},"URI",{"type":31,"value":1607},"表示資源的集合",{"type":25,"tag":44,"props":1609,"children":1610},{},[1611,1616],{"type":25,"tag":232,"props":1612,"children":1613},{"className":13},[1614],{"type":31,"value":1615},"HTTP",{"type":31,"value":1617},"方法表示一般動詞",{"type":25,"tag":44,"props":1619,"children":1620},{},[1621,1623,1626,1628,1632,1634,1638,1640,1652,1655,1657],{"type":31,"value":1622},"注意所用的單字",{"type":25,"tag":219,"props":1624,"children":1625},{},[],{"type":31,"value":1627},"\n例如: ",{"type":25,"tag":232,"props":1629,"children":1630},{"className":13},[1631],{"type":31,"value":332},{"type":31,"value":1633},"和",{"type":25,"tag":232,"props":1635,"children":1636},{"className":13},[1637],{"type":31,"value":339},{"type":31,"value":1639},"兩者中，該選用哪種比較好?",{"type":25,"tag":158,"props":1641,"children":1642},{},[1643],{"type":25,"tag":34,"props":1644,"children":1645},{},[1646,1648],{"type":31,"value":1647},"API一般設計採用",{"type":25,"tag":232,"props":1649,"children":1650},{"className":13},[1651],{"type":31,"value":332},{"type":25,"tag":219,"props":1653,"children":1654},{},[],{"type":31,"value":1656},"可以從👇網站查看各種API範例\n",{"type":25,"tag":1028,"props":1658,"children":1661},{"href":1659,"rel":1660},"https://www.programmableweb.com/",[1032],[1662],{"type":31,"value":1663},"ProgrammableWeb",{"type":25,"tag":44,"props":1665,"children":1666},{},[1667,1669,1672,1674,1680,1682,1687],{"type":31,"value":1668},"不使用空格以及需要編碼的字串",{"type":25,"tag":219,"props":1670,"children":1671},{},[],{"type":31,"value":1673},"\n當URI裡存在無法直接使用的字串時，則需要使用到百分號編碼（英語：Percent-encoding），又稱：URL編碼（",{"type":25,"tag":1675,"props":1676,"children":1677},"em",{},[1678],{"type":31,"value":1679},"URL encoding",{"type":31,"value":1681},"）。\n例如： ",{"type":25,"tag":232,"props":1683,"children":1684},{"className":13},[1685],{"type":31,"value":1686},"%E3%81%82",{"type":31,"value":1688},"。",{"type":25,"tag":34,"props":1690,"children":1691},{},[1692],{"type":31,"value":1693},"4️. 使用連接符來連接多個單字，基本上連接字串的方式總共有三種寫法。",{"type":25,"tag":40,"props":1695,"children":1696},{},[1697,1720,1743],{"type":25,"tag":44,"props":1698,"children":1699},{},[1700,1702,1707,1710,1712],{"type":31,"value":1701},"S",{"type":25,"tag":172,"props":1703,"children":1704},{},[1705],{"type":31,"value":1706},"pinal-Case寫法",{"type":25,"tag":219,"props":1708,"children":1709},{},[],{"type":31,"value":1711},"一般稱為脊柱形命名法。",{"type":25,"tag":225,"props":1713,"children":1715},{"code":1714},"http://api.example.com/v1/users/12345/profile-image\n",[1716],{"type":25,"tag":232,"props":1717,"children":1718},{"__ignoreMap":13},[1719],{"type":31,"value":1714},{"type":25,"tag":44,"props":1721,"children":1722},{},[1723,1725,1730,1733,1735],{"type":31,"value":1724},"Snake Case",{"type":25,"tag":172,"props":1726,"children":1727},{},[1728],{"type":31,"value":1729},"寫法",{"type":25,"tag":219,"props":1731,"children":1732},{},[],{"type":31,"value":1734},"一般稱為蛇型命名法。",{"type":25,"tag":225,"props":1736,"children":1738},{"code":1737},"http://api.example.com/v1/users/12345/profile_image\n",[1739],{"type":25,"tag":232,"props":1740,"children":1741},{"__ignoreMap":13},[1742],{"type":31,"value":1737},{"type":25,"tag":44,"props":1744,"children":1745},{},[1746,1748,1751,1753],{"type":31,"value":1747},"Camel Case寫法",{"type":25,"tag":219,"props":1749,"children":1750},{},[],{"type":31,"value":1752},"一般稱為駝峰命名法。",{"type":25,"tag":225,"props":1754,"children":1756},{"code":1755},"http://api.example.com/v1/users/12345/profileImage\n",[1757],{"type":25,"tag":232,"props":1758,"children":1759},{"__ignoreMap":13},[1760],{"type":31,"value":1755},{"type":25,"tag":1762,"props":1763,"children":1764},"aside",{},[1765,1767],{"type":31,"value":1766},"   \n",{"type":25,"tag":34,"props":1768,"children":1769},{},[1770],{"type":31,"value":1771},"💡 這三種寫法中，網路上最推薦Spinal-Case的方法，其中一個原因是因為Google推薦使用。",{"type":25,"tag":34,"props":1773,"children":1774},{},[1775,1777,1782,1784,1789],{"type":31,"value":1776},"另外最好在URI中使用多個單字，例如不要使用",{"type":25,"tag":232,"props":1778,"children":1779},{"className":13},[1780],{"type":31,"value":1781},"popular_users",{"type":31,"value":1783},"，而是使用",{"type":25,"tag":232,"props":1785,"children":1786},{"className":13},[1787],{"type":31,"value":1788},"users/popular",{"type":31,"value":1790},"用路徑那樣子來劃分。",{"type":25,"tag":26,"props":1792,"children":1794},{"id":1793},"_25-搜尋與查詢參數的設計",[1795],{"type":31,"value":1796},"2.5 搜尋與查詢參數的設計",{"type":25,"tag":1581,"props":1798,"children":1800},{"id":1799},"_251-獲取資料量和獲取位置的查詢參數",[1801],{"type":31,"value":1802},"2.5.1 獲取資料量和獲取位置的查詢參數",{"type":25,"tag":34,"props":1804,"children":1805},{},[1806],{"type":31,"value":1807},"當資料量很龐大的時候，例如 👇 使用者資料列表API，如果今天是FB等級的使用者，那可能有好幾億，這樣一次把所有數值吐回來是不可能達成的，因此可以採用分頁(Pagination)來處理。",{"type":25,"tag":225,"props":1809,"children":1811},{"code":1810},"http://api.example.com/v1/users\n",[1812],{"type":25,"tag":232,"props":1813,"children":1814},{"__ignoreMap":13},[1815],{"type":31,"value":1810},{"type":25,"tag":158,"props":1817,"children":1818},{},[1819],{"type":25,"tag":34,"props":1820,"children":1821},{},[1822,1824,1829,1830,1835],{"type":31,"value":1823},"分頁的使用，一般可以透過SQL中",{"type":25,"tag":232,"props":1825,"children":1826},{"className":13},[1827],{"type":31,"value":1828},"limit",{"type":31,"value":1633},{"type":25,"tag":232,"props":1831,"children":1832},{"className":13},[1833],{"type":31,"value":1834},"offset",{"type":31,"value":1836},"數值來產生。",{"type":25,"tag":40,"props":1838,"children":1839},{},[1840],{"type":25,"tag":44,"props":1841,"children":1842},{},[1843,1845],{"type":31,"value":1844},"各大服務查詢的方式\n",{"type":25,"tag":40,"props":1846,"children":1847},{},[1848,1870],{"type":25,"tag":44,"props":1849,"children":1850},{},[1851,1853,1857,1859,1864,1865],{"type":31,"value":1852},"資料量 使用",{"type":25,"tag":232,"props":1854,"children":1855},{"className":13},[1856],{"type":31,"value":1828},{"type":31,"value":1858},"、",{"type":25,"tag":232,"props":1860,"children":1861},{"className":13},[1862],{"type":31,"value":1863},"count",{"type":31,"value":1858},{"type":25,"tag":232,"props":1866,"children":1867},{"className":13},[1868],{"type":31,"value":1869},"per_page",{"type":25,"tag":44,"props":1871,"children":1872},{},[1873,1875,1880,1881,1885,1886],{"type":31,"value":1874},"資料位置 使用",{"type":25,"tag":232,"props":1876,"children":1877},{"className":13},[1878],{"type":31,"value":1879},"page",{"type":31,"value":1858},{"type":25,"tag":232,"props":1882,"children":1883},{"className":13},[1884],{"type":31,"value":1834},{"type":31,"value":1858},{"type":25,"tag":232,"props":1887,"children":1888},{"className":13},[1889],{"type":31,"value":1890},"cursor",{"type":25,"tag":34,"props":1892,"children":1893},{},[1894],{"type":25,"tag":1895,"props":1896,"children":1899},"img",{"alt":1897,"src":1898},"001","https://military-share-82c.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2d9a6bfd-d6c2-4c99-b6ed-843469653bad%2FUntitled.png?table=block&id=158287f6-0e24-4ad3-8da3-b761bdff3043&spaceId=7cddc0b4-9d6b-472a-acd3-0cab4ea53d17&width=1590&userId=&cache=v2",[],{"type":25,"tag":1762,"props":1901,"children":1902},{},[1903],{"type":25,"tag":34,"props":1904,"children":1905},{},[1906,1908,1912,1914,1918,1920,1924,1925,1929],{"type":31,"value":1907},"一般來說 ",{"type":25,"tag":232,"props":1909,"children":1910},{"className":13},[1911],{"type":31,"value":1869},{"type":31,"value":1913}," 和",{"type":25,"tag":232,"props":1915,"children":1916},{"className":13},[1917],{"type":31,"value":1879},{"type":31,"value":1919},"會一起出現，而",{"type":25,"tag":232,"props":1921,"children":1922},{"className":13},[1923],{"type":31,"value":1828},{"type":31,"value":1633},{"type":25,"tag":232,"props":1926,"children":1927},{"className":13},[1928],{"type":31,"value":1834},{"type":31,"value":1930},"會成對出現。",{"type":25,"tag":40,"props":1932,"children":1933},{},[1934],{"type":25,"tag":44,"props":1935,"children":1936},{},[1937],{"type":31,"value":1938},"分頁的舉例\n1頁可以容納50條紀錄，當要取第三頁(從101開始)的資料時，該怎麼撰寫呢?",{"type":25,"tag":225,"props":1940,"children":1942},{"code":1941},"per_page=50&page=3\n\nlimit=50&offset=100\n",[1943],{"type":25,"tag":232,"props":1944,"children":1945},{"__ignoreMap":13},[1946],{"type":31,"value":1941},{"type":25,"tag":1762,"props":1948,"children":1949},{},[1950],{"type":25,"tag":34,"props":1951,"children":1952},{},[1953,1955,1959,1961,1965],{"type":31,"value":1954},"💡 一般",{"type":25,"tag":232,"props":1956,"children":1957},{"className":13},[1958],{"type":31,"value":1879},{"type":31,"value":1960},"從1開始(1-based)計數，而",{"type":25,"tag":232,"props":1962,"children":1963},{"className":13},[1964],{"type":31,"value":1834},{"type":31,"value":1966},"則從0開始(0-based)計數。",{"type":25,"tag":1581,"props":1968,"children":1970},{"id":1969},"_252-使用相對位置存在的問題",[1971],{"type":31,"value":1972},"2.5.2 使用相對位置存在的問題",{"type":25,"tag":34,"props":1974,"children":1975},{},[1976,1978,1982,1984,1988],{"type":31,"value":1977},"當使用",{"type":25,"tag":232,"props":1979,"children":1980},{"className":13},[1981],{"type":31,"value":1834},{"type":31,"value":1983},"或",{"type":25,"tag":232,"props":1985,"children":1986},{"className":13},[1987],{"type":31,"value":1828},{"type":31,"value":1989},"來取得指定的資料位置時，其實都是要從頭開始數第幾條，每次都要從第1條資料開始計數，因此效能較差。",{"type":25,"tag":40,"props":1991,"children":1992},{},[1993,2003],{"type":25,"tag":44,"props":1994,"children":1995},{},[1996,1998],{"type":31,"value":1997},"從頭開始計數\n",{"type":25,"tag":1895,"props":1999,"children":2002},{"alt":2000,"src":2001},"002","https://military-share-82c.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4ac448fb-50c5-4c6e-91d5-9ddc8c249e69%2FUntitled.png?table=block&id=74605e3e-b17f-43a3-8d95-74de1f7a68a2&spaceId=7cddc0b4-9d6b-472a-acd3-0cab4ea53d17&width=1120&userId=&cache=v2",[],{"type":25,"tag":44,"props":2004,"children":2005},{},[2006,2008],{"type":31,"value":2007},"當資料更新的頻率比較高的時候，會導致當前獲取資料出現一定的偏差。\n",{"type":25,"tag":1895,"props":2009,"children":2012},{"alt":2010,"src":2011},"003","https://military-share-82c.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd5d28ba3-3a36-418a-87c4-941043ce2cc8%2FUntitled.png?table=block&id=0c282def-8acc-4d50-b940-055399e49605&spaceId=7cddc0b4-9d6b-472a-acd3-0cab4ea53d17&width=1120&userId=&cache=v2",[],{"type":25,"tag":1581,"props":2014,"children":2016},{"id":2015},"_253-使用絕對位置來取得資料",[2017],{"type":31,"value":2018},"2.5.3 使用絕對位置來取得資料",{"type":25,"tag":34,"props":2020,"children":2021},{},[2022],{"type":31,"value":2023},"可以透過指\"定某個ID之前\"或\"某個日期之前\"等條件，來解決相對應位置取得資料的問題。",{"type":25,"tag":34,"props":2025,"children":2026},{},[2027,2029,2034,2036,2041],{"type":31,"value":2028},"例如：Twiiter的API中的",{"type":25,"tag":232,"props":2030,"children":2031},{"className":13},[2032],{"type":31,"value":2033},"max_id",{"type":31,"value":2035},"、YouTube中的",{"type":25,"tag":232,"props":2037,"children":2038},{"className":13},[2039],{"type":31,"value":2040},"publishedBefore",{"type":31,"value":1688},{"type":25,"tag":1581,"props":2043,"children":2045},{"id":2044},"_254-使用參數來過濾",[2046],{"type":31,"value":2047},"2.5.4 使用參數來過濾",{"type":25,"tag":34,"props":2049,"children":2050},{},[2051],{"type":31,"value":2052},"以下例子使用Linkedin的People Search API舉例。",{"type":25,"tag":225,"props":2054,"children":2056},{"code":2055},"http://api.linkedin.com/v1/people-search?first-name=Clair\n\nhttp://api.linkedin.com/v1/people-search?last-name=Clair\n\nhttp://api.linkedin.com/v1/people-search?school-name=Shermer&20High%20School\n",[2057],{"type":25,"tag":232,"props":2058,"children":2059},{"__ignoreMap":13},[2060],{"type":31,"value":2055},{"type":25,"tag":1581,"props":2062,"children":2064},{"id":2063},"_255-查詢參數和路徑的使用區別",[2065],{"type":31,"value":2066},"2.5.5 查詢參數和路徑的使用區別",{"type":25,"tag":34,"props":2068,"children":2069},{},[2070],{"type":31,"value":2071},"到底該把參數附加在查詢參數裡面? 還是放在路徑裡呢? 可以依據下列兩點來解釋",{"type":25,"tag":40,"props":2073,"children":2074},{},[2075],{"type":25,"tag":44,"props":2076,"children":2077},{},[2078],{"type":31,"value":2079},"是否可以表示唯一資源所需的資訊",{"type":25,"tag":225,"props":2081,"children":2083},{"code":2082},"http://api.example.com/v1/users/10\n",[2084],{"type":25,"tag":232,"props":2085,"children":2086},{"__ignoreMap":13},[2087],{"type":31,"value":2082},{"type":25,"tag":40,"props":2089,"children":2090},{},[2091],{"type":25,"tag":44,"props":2092,"children":2093},{},[2094],{"type":31,"value":2095},"是否可以省略",{"type":25,"tag":1581,"props":2097,"children":2099},{"id":2098},"分頁的額外補充",[2100],{"type":31,"value":2098},{"type":25,"tag":40,"props":2102,"children":2103},{},[2104],{"type":25,"tag":44,"props":2105,"children":2106},{},[2107,2109],{"type":31,"value":2108},"請求\n",{"type":25,"tag":40,"props":2110,"children":2111},{},[2112,2122],{"type":25,"tag":44,"props":2113,"children":2114},{},[2115,2120],{"type":25,"tag":232,"props":2116,"children":2117},{"className":13},[2118],{"type":31,"value":2119},"perPage",{"type":31,"value":2121}," 每個頁面的大小(每個頁面的項目)",{"type":25,"tag":44,"props":2123,"children":2124},{},[2125,2129],{"type":25,"tag":232,"props":2126,"children":2127},{"className":13},[2128],{"type":31,"value":1879},{"type":31,"value":2130}," 目前頁面的編號",{"type":25,"tag":225,"props":2132,"children":2134},{"code":2133},"http://api.example.com/v1/users?page=3&perPage=50\n",[2135],{"type":25,"tag":232,"props":2136,"children":2137},{"__ignoreMap":13},[2138],{"type":31,"value":2133},{"type":25,"tag":40,"props":2140,"children":2141},{},[2142],{"type":25,"tag":44,"props":2143,"children":2144},{},[2145,2147],{"type":31,"value":2146},"回應\n",{"type":25,"tag":40,"props":2148,"children":2149},{},[2150,2159,2168,2178,2188],{"type":25,"tag":44,"props":2151,"children":2152},{},[2153,2158],{"type":25,"tag":232,"props":2154,"children":2155},{"className":13},[2156],{"type":31,"value":2157},"currentPage",{"type":31,"value":2130},{"type":25,"tag":44,"props":2160,"children":2161},{},[2162,2167],{"type":25,"tag":232,"props":2163,"children":2164},{"className":13},[2165],{"type":31,"value":2166},"pageSize",{"type":31,"value":2121},{"type":25,"tag":44,"props":2169,"children":2170},{},[2171,2176],{"type":25,"tag":232,"props":2172,"children":2173},{"className":13},[2174],{"type":31,"value":2175},"totalPages",{"type":31,"value":2177}," 頁面總數量",{"type":25,"tag":44,"props":2179,"children":2180},{},[2181,2186],{"type":25,"tag":232,"props":2182,"children":2183},{"className":13},[2184],{"type":31,"value":2185},"totalItems",{"type":31,"value":2187},"  項目的總數量",{"type":25,"tag":44,"props":2189,"children":2190},{},[2191,2196],{"type":25,"tag":232,"props":2192,"children":2193},{"className":13},[2194],{"type":31,"value":2195},"items",{"type":31,"value":2197}," 目前頁面上的項目",{"type":25,"tag":26,"props":2199,"children":2201},{"id":2200},"關於登錄oauth20-26-210",[2202],{"type":31,"value":2203},"關於登錄OAuth2.0 (2.6 ~ 2.10)",{"type":25,"tag":34,"props":2205,"children":2206},{},[2207],{"type":31,"value":2208},"OAuth在API設計上是蠻重要的一環，你一定很常遇到在使用某個網頁時，他會想要你Google或是Facebook的資料，此時頁面會導向一個小視窗要你輸入Google或Facebook的帳號密碼，輸入完畢後接著就會導回原本的網頁。接著網頁就可以獲取你Google與FB的相關資訊了。這種B網頁要向你索取第三方網頁的認證工作，就是OAuth會替你處理掉。",{"type":25,"tag":1581,"props":2210,"children":2212},{"id":2211},"_26-陽春認證",[2213,2215],{"type":31,"value":2214},"2.6. ",{"type":25,"tag":1028,"props":2216,"children":2219},{"href":2217,"rel":2218},"https://reurl.cc/KrvVoe",[1032],[2220],{"type":31,"value":2221},"陽春認證",{"type":25,"tag":34,"props":2223,"children":2224},{},[2225],{"type":31,"value":2226},"上述描述的認證工作，最簡易的認證機制如下圖，使用者在客戶端透過基本的帳號與密碼向後端伺服器驗證身份。伺服器會經過一連串的驗證流程，驗證成功後透過如 Session / Cookie 機制，在客戶端保存用戶登入的狀態資訊。",{"type":25,"tag":34,"props":2228,"children":2229},{},[2230],{"type":25,"tag":1895,"props":2231,"children":2233},{"alt":13,"src":2232},"https://i.imgur.com/h22L2dC.png",[],{"type":25,"tag":34,"props":2235,"children":2236},{},[2237],{"type":31,"value":2238},"此陽春認證大致會有幾個問題",{"type":25,"tag":211,"props":2240,"children":2241},{},[2242,2247,2252,2257],{"type":25,"tag":44,"props":2243,"children":2244},{},[2245],{"type":31,"value":2246},"第三方程式必須儲存 Resource Owner 的帳號密碼，通常是明文儲存。",{"type":25,"tag":44,"props":2248,"children":2249},{},[2250],{"type":31,"value":2251},"Server 必須支援密碼認證，即使密碼有天生的資訊安全上的弱點。",{"type":25,"tag":44,"props":2253,"children":2254},{},[2255],{"type":31,"value":2256},"第三方程式會得到幾乎完整的權限，可以存取 Protected Resources ，而 Resource Owner 沒辦法限制第三方程式可以拿取 Resource 的時效，以及可以存取的範圍 (subset)。",{"type":25,"tag":44,"props":2258,"children":2259},{},[2260],{"type":31,"value":2261},"任何第三方程式被破解 (compromized)，就會導致使用該密碼的所有資料被破解。",{"type":25,"tag":1581,"props":2263,"children":2265},{"id":2264},"_27-oauth的基本認證機制",[2266],{"type":31,"value":2267},"2.7 OAuth的基本認證機制",{"type":25,"tag":34,"props":2269,"children":2270},{},[2271],{"type":31,"value":2272},"那麼OAuth在第三方認證這流程上，中間到底發生什麼事情，我們可以看下述圖意流程",{"type":25,"tag":34,"props":2274,"children":2275},{},[2276],{"type":25,"tag":1895,"props":2277,"children":2279},{"alt":13,"src":2278},"https://i.imgur.com/ViUvehH.png",[],{"type":25,"tag":40,"props":2281,"children":2282},{},[2283,2288,2293,2298,2303,2308],{"type":25,"tag":44,"props":2284,"children":2285},{},[2286],{"type":31,"value":2287},"Step1：User點下允許訪位Facebook個人資訊認證",{"type":25,"tag":44,"props":2289,"children":2290},{},[2291],{"type":31,"value":2292},"Step2：第三方網頁請求認可",{"type":25,"tag":44,"props":2294,"children":2295},{},[2296],{"type":31,"value":2297},"Step3：User輸入帳命並告知Facebook可以把Token轉交給第三方網頁",{"type":25,"tag":44,"props":2299,"children":2300},{},[2301],{"type":31,"value":2302},"Step4：將Token轉交給第三方網頁",{"type":25,"tag":44,"props":2304,"children":2305},{},[2306],{"type":31,"value":2307},"Step5：第三方網頁帶取Token向Facebook調用索取資訊API",{"type":25,"tag":44,"props":2309,"children":2310},{},[2311],{"type":31,"value":2312},"Step6：Facebook Response請求給第三方網頁",{"type":25,"tag":34,"props":2314,"children":2315},{},[2316],{"type":31,"value":2317},"上述OAuth常見的基本流程，使用OAuth方便的是，User無須再次對請求輸入帳號密碼，認證過程中會通過Facebook提供的頁面(一般常見為帳號密碼輸入或是認證許可按鈕如下圖)。",{"type":25,"tag":34,"props":2319,"children":2320},{},[2321],{"type":25,"tag":1895,"props":2322,"children":2324},{"alt":13,"src":2323},"https://i.imgur.com/BDIm3EB.png",[],{"type":25,"tag":34,"props":2326,"children":2327},{},[2328],{"type":31,"value":2329},"如果OAuth訪問成功就可從Facebook獲取access token，通過此token，第三方網頁就可訪問Facebook用戶允許的相關訊息(public profile mail 介紹...)。",{"type":25,"tag":1581,"props":2331,"children":2333},{"id":2332},"_28-oauth-20-的角色定義",[2334],{"type":31,"value":2335},"2.8 OAuth 2.0 的角色定義",{"type":25,"tag":40,"props":2337,"children":2338},{},[2339,2344,2349,2354],{"type":25,"tag":44,"props":2340,"children":2341},{},[2342],{"type":31,"value":2343},"Resource Owner：可以授權別人去存取 Protected Resource 。如果這個角色是人類的話，則就是指使用者 (end-user)。",{"type":25,"tag":44,"props":2345,"children":2346},{},[2347],{"type":31,"value":2348},"Resource Server：存放 Protected Resource 的伺服器，可以根據 Access Token 來接受 Protected Resource 的請求。",{"type":25,"tag":44,"props":2350,"children":2351},{},[2352],{"type":31,"value":2353},"Client：代表 Resource Owner 去存取 Protected Resource 的應用程式。 “Client” 一詞並不指任何特定的實作方式（可以在 Server 上面跑、在一般電腦上跑、或是在其他的設備）。",{"type":25,"tag":44,"props":2355,"children":2356},{},[2357],{"type":31,"value":2358},"Authorization Server：在認證過 Resource Owner 並且 Resource Owner 許可之後，核發 Access Token 的伺服器。",{"type":25,"tag":1581,"props":2360,"children":2362},{"id":2361},"_29-oauth的認證流程形式grant-type",[2363],{"type":31,"value":2364},"2.9 OAuth的認證流程形式(Grant Type)",{"type":25,"tag":34,"props":2366,"children":2367},{},[2368,2370,2376],{"type":31,"value":2369},"上述簡單描述OAuth基本流程，但實際的認證流程會有四種形式，推薦此篇",{"type":25,"tag":1028,"props":2371,"children":2373},{"href":2217,"rel":2372},[1032],[2374],{"type":31,"value":2375},"認識 OAuth 2.0：一次了解各角色、各類型流程的差異",{"type":31,"value":2377},"。對於四種形式我覺得此篇作者整理得很淺白易懂。這邊我也會直接擷取他對於四種形式的描述來解說。",{"type":25,"tag":470,"props":2379,"children":2380},{},[2381,2398],{"type":25,"tag":474,"props":2382,"children":2383},{},[2384],{"type":25,"tag":478,"props":2385,"children":2386},{},[2387,2392],{"type":25,"tag":482,"props":2388,"children":2389},{},[2390],{"type":31,"value":2391},"Type",{"type":25,"tag":482,"props":2393,"children":2395},{"align":2394},"left",[2396],{"type":31,"value":2397},"常見應用",{"type":25,"tag":494,"props":2399,"children":2400},{},[2401,2414,2427,2438],{"type":25,"tag":478,"props":2402,"children":2403},{},[2404,2409],{"type":25,"tag":501,"props":2405,"children":2406},{},[2407],{"type":31,"value":2408},"Authorization Code",{"type":25,"tag":501,"props":2410,"children":2411},{"align":2394},[2412],{"type":31,"value":2413},"有透過Server處理",{"type":25,"tag":478,"props":2415,"children":2416},{},[2417,2422],{"type":25,"tag":501,"props":2418,"children":2419},{},[2420],{"type":31,"value":2421},"Implicit",{"type":25,"tag":501,"props":2423,"children":2424},{"align":2394},[2425],{"type":31,"value":2426},"Clinet端處理",{"type":25,"tag":478,"props":2428,"children":2429},{},[2430,2435],{"type":25,"tag":501,"props":2431,"children":2432},{},[2433],{"type":31,"value":2434},"Resource Owner Password Credentials",{"type":25,"tag":501,"props":2436,"children":2437},{"align":2394},[],{"type":25,"tag":478,"props":2439,"children":2440},{},[2441,2446],{"type":25,"tag":501,"props":2442,"children":2443},{},[2444],{"type":31,"value":2445},"Client Credentials",{"type":25,"tag":501,"props":2447,"children":2448},{"align":2394},[2449],{"type":31,"value":2450},"M2M(Machine to Machine)",{"type":25,"tag":1581,"props":2452,"children":2454},{"id":2453},"_210-authorization-code",[2455,2457],{"type":31,"value":2456},"2.10 ",{"type":25,"tag":172,"props":2458,"children":2459},{},[2460],{"type":31,"value":2408},{"type":25,"tag":2462,"props":2463,"children":2465},"h6",{"id":2464},"流程示意",[2466],{"type":31,"value":2464},{"type":25,"tag":34,"props":2468,"children":2469},{},[2470],{"type":31,"value":2471},"常見類型，通常應用在SSR伺服器渲染的設計上，大部分的邏輯處理程式碼以極機密都會保存在Server。",{"type":25,"tag":34,"props":2473,"children":2474},{},[2475],{"type":25,"tag":1895,"props":2476,"children":2478},{"alt":13,"src":2477},"https://i.imgur.com/m2Ednsg.png",[],{"type":25,"tag":2462,"props":2480,"children":2482},{"id":2481},"詳細流程",[2483],{"type":31,"value":2481},{"type":25,"tag":34,"props":2485,"children":2486},{},[2487],{"type":31,"value":2488},"(1) Authorization Request",{"type":25,"tag":34,"props":2490,"children":2491},{},[2492],{"type":31,"value":2493},"【Client】GET -> 【Authorization Endpoint】",{"type":25,"tag":34,"props":2495,"children":2496},{},[2497],{"type":31,"value":2498},"第一步是 Client 產生一個 URL 連到 Authorization Endpoint ，要 Resource Owner 打開（點擊）這個 URL ，從而產生「向 Authorization Endpoint 發送 GET request」的操作。",{"type":25,"tag":34,"props":2500,"children":2501},{},[2502],{"type":31,"value":2503},"把參數包在 URI 的 query components 裡面。",{"type":25,"tag":470,"props":2505,"children":2506},{},[2507,2523],{"type":25,"tag":474,"props":2508,"children":2509},{},[2510],{"type":25,"tag":478,"props":2511,"children":2512},{},[2513,2518],{"type":25,"tag":482,"props":2514,"children":2515},{},[2516],{"type":31,"value":2517},"參數名",{"type":25,"tag":482,"props":2519,"children":2520},{"align":2394},[2521],{"type":31,"value":2522},"填什麼/意義",{"type":25,"tag":494,"props":2524,"children":2525},{},[2526,2538,2551,2564,2577],{"type":25,"tag":478,"props":2527,"children":2528},{},[2529,2534],{"type":25,"tag":501,"props":2530,"children":2531},{},[2532],{"type":31,"value":2533},"response_type",{"type":25,"tag":501,"props":2535,"children":2536},{"align":2394},[2537],{"type":31,"value":232},{"type":25,"tag":478,"props":2539,"children":2540},{},[2541,2546],{"type":25,"tag":501,"props":2542,"children":2543},{},[2544],{"type":31,"value":2545},"client_id",{"type":25,"tag":501,"props":2547,"children":2548},{"align":2394},[2549],{"type":31,"value":2550},"自己的 Client ID",{"type":25,"tag":478,"props":2552,"children":2553},{},[2554,2559],{"type":25,"tag":501,"props":2555,"children":2556},{},[2557],{"type":31,"value":2558},"state",{"type":25,"tag":501,"props":2560,"children":2561},{"align":2394},[2562],{"type":31,"value":2563},"內部狀態",{"type":25,"tag":478,"props":2565,"children":2566},{},[2567,2572],{"type":25,"tag":501,"props":2568,"children":2569},{},[2570],{"type":31,"value":2571},"redirect_uri",{"type":25,"tag":501,"props":2573,"children":2574},{"align":2394},[2575],{"type":31,"value":2576},"申請結果下來之後要轉址去哪裡",{"type":25,"tag":478,"props":2578,"children":2579},{},[2580,2585],{"type":25,"tag":501,"props":2581,"children":2582},{},[2583],{"type":31,"value":2584},"scope",{"type":25,"tag":501,"props":2586,"children":2587},{"align":2394},[2588],{"type":31,"value":2589},"申請的存取範圍",{"type":25,"tag":225,"props":2591,"children":2593},{"code":2592},"GET /authorize?response_type=code&client_id=s6BhdRkqt3&state=xyz\n    &redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1\nHost: server.example.com\n",[2594],{"type":25,"tag":232,"props":2595,"children":2596},{"__ignoreMap":13},[2597],{"type":31,"value":2592},{"type":25,"tag":2599,"props":2600,"children":2601},"hr",{},[],{"type":25,"tag":34,"props":2603,"children":2604},{},[2605],{"type":31,"value":2606},"(4) Authorization Response",{"type":25,"tag":34,"props":2608,"children":2609},{},[2610],{"type":31,"value":2611},"【Authorization Endpoint】 302 Response ->  GET 【Client: Redirection Endpoint】",{"type":25,"tag":34,"props":2613,"children":2614},{},[2615],{"type":31,"value":2616},"Resource Owner 若同意授權，這個「同意授權」的 request 會往 Authorization Endpoint 發送，接著會收到 302 的轉址 response ，裡面帶有「前往 Client 的 Redirection Endpoint 的 URL」的轉址 (Location header)，從而產生「向 Redirection URI 發送 GET Request」的操作。",{"type":25,"tag":470,"props":2618,"children":2619},{},[2620,2634],{"type":25,"tag":474,"props":2621,"children":2622},{},[2623],{"type":25,"tag":478,"props":2624,"children":2625},{},[2626,2630],{"type":25,"tag":482,"props":2627,"children":2628},{},[2629],{"type":31,"value":2517},{"type":25,"tag":482,"props":2631,"children":2632},{"align":2394},[2633],{"type":31,"value":2522},{"type":25,"tag":494,"props":2635,"children":2636},{},[2637,2648],{"type":25,"tag":478,"props":2638,"children":2639},{},[2640,2644],{"type":25,"tag":501,"props":2641,"children":2642},{},[2643],{"type":31,"value":232},{"type":25,"tag":501,"props":2645,"children":2646},{"align":2394},[2647],{"type":31,"value":2408},{"type":25,"tag":478,"props":2649,"children":2650},{},[2651,2655],{"type":25,"tag":501,"props":2652,"children":2653},{},[2654],{"type":31,"value":2558},{"type":25,"tag":501,"props":2656,"children":2657},{"align":2394},[2658],{"type":31,"value":2659},"原內部狀態",{"type":25,"tag":225,"props":2661,"children":2663},{"code":2662},"HTTP/1.1 302 Found\nLocation: https://client.example.com/cb?code=SplxlOBeZQQYbYS6WxSbIA\n          &state=xyz\n",[2664],{"type":25,"tag":232,"props":2665,"children":2666},{"__ignoreMap":13},[2667],{"type":31,"value":2662},{"type":25,"tag":40,"props":2669,"children":2670},{},[2671,2676],{"type":25,"tag":44,"props":2672,"children":2673},{},[2674],{"type":31,"value":2675},"state 如果 (1) 的時候有附上，則 Resopnse 裡面必須有，完全一致的原值。如果原本就沒有，就不需要回傳。",{"type":25,"tag":44,"props":2677,"children":2678},{},[2679,2681],{"type":31,"value":2680},"Authorization Code：",{"type":25,"tag":40,"props":2682,"children":2683},{},[2684,2689,2694,2699],{"type":25,"tag":44,"props":2685,"children":2686},{},[2687],{"type":31,"value":2688},"必須是短時效的，建議最長 10 分鐘。",{"type":25,"tag":44,"props":2690,"children":2691},{},[2692],{"type":31,"value":2693},"Client 只能使用一次，如果重複使用，Authorization Server 必須拒絕，並且建議撤銷之前透過這個 Grant 核發過的 Tokens",{"type":25,"tag":44,"props":2695,"children":2696},{},[2697],{"type":31,"value":2698},"要綁定 Code ↔ Client ID ↔ Redirection URI 的關係",{"type":25,"tag":44,"props":2700,"children":2701},{},[2702],{"type":31,"value":2703},"長度由 Authorization Server 定義，應寫在文件中， Client 不可以瞎猜。",{"type":25,"tag":2599,"props":2705,"children":2706},{},[],{"type":25,"tag":34,"props":2708,"children":2709},{},[2710],{"type":31,"value":2711},"(5) Access Token Request",{"type":25,"tag":34,"props":2713,"children":2714},{},[2715],{"type":31,"value":2716},"【Client】POST -> 【Token Endpoint】",{"type":25,"tag":470,"props":2718,"children":2719},{},[2720,2734],{"type":25,"tag":474,"props":2721,"children":2722},{},[2723],{"type":25,"tag":478,"props":2724,"children":2725},{},[2726,2730],{"type":25,"tag":482,"props":2727,"children":2728},{},[2729],{"type":31,"value":2517},{"type":25,"tag":482,"props":2731,"children":2732},{"align":2394},[2733],{"type":31,"value":2522},{"type":25,"tag":494,"props":2735,"children":2736},{},[2737,2749,2761,2773],{"type":25,"tag":478,"props":2738,"children":2739},{},[2740,2745],{"type":25,"tag":501,"props":2741,"children":2742},{},[2743],{"type":31,"value":2744},"grant_type",{"type":25,"tag":501,"props":2746,"children":2747},{"align":2394},[2748],{"type":31,"value":2408},{"type":25,"tag":478,"props":2750,"children":2751},{},[2752,2756],{"type":25,"tag":501,"props":2753,"children":2754},{},[2755],{"type":31,"value":232},{"type":25,"tag":501,"props":2757,"children":2758},{"align":2394},[2759],{"type":31,"value":2760},"在 (4) 拿到的 Authorization Code",{"type":25,"tag":478,"props":2762,"children":2763},{},[2764,2768],{"type":25,"tag":501,"props":2765,"children":2766},{},[2767],{"type":31,"value":2571},{"type":25,"tag":501,"props":2769,"children":2770},{"align":2394},[2771],{"type":31,"value":2772},"如果 (A) 有提供，則必須提供一模一樣的。",{"type":25,"tag":478,"props":2774,"children":2775},{},[2776,2780],{"type":25,"tag":501,"props":2777,"children":2778},{},[2779],{"type":31,"value":2545},{"type":25,"tag":501,"props":2781,"children":2782},{"align":2394},[2783],{"type":31,"value":2550},{"type":25,"tag":2462,"props":2785,"children":2787},{"id":2786},"authorization-server-的處理程序",[2788],{"type":31,"value":2789},"Authorization Server 的處理程序",{"type":25,"tag":40,"props":2791,"children":2792},{},[2793,2798,2803,2821,2826],{"type":25,"tag":44,"props":2794,"children":2795},{},[2796],{"type":31,"value":2797},"要求 Client 認證自己（如果是 Confidential Client 或有拿到 Client Credentials）",{"type":25,"tag":44,"props":2799,"children":2800},{},[2801],{"type":31,"value":2802},"如果 Client 有出示認證資料，就認證它",{"type":25,"tag":44,"props":2804,"children":2805},{},[2806,2808],{"type":31,"value":2807},"確定 Authorization Code 是發給 Client 的\n",{"type":25,"tag":40,"props":2809,"children":2810},{},[2811,2816],{"type":25,"tag":44,"props":2812,"children":2813},{},[2814],{"type":31,"value":2815},"Confidential: 用 Client 的認證過程來證明",{"type":25,"tag":44,"props":2817,"children":2818},{},[2819],{"type":31,"value":2820},"Public: 用 Client ID 來證明",{"type":25,"tag":44,"props":2822,"children":2823},{},[2824],{"type":31,"value":2825},"驗證 Authorization Code 正確",{"type":25,"tag":44,"props":2827,"children":2828},{},[2829],{"type":31,"value":2830},"如果 (1) 有給 Redirection URI 的話，確定這次給的 Redirection URI 與 (1) 時的一模一樣。",{"type":25,"tag":225,"props":2832,"children":2834},{"code":2833},"POST /token HTTP/1.1\nHost: server.example.com\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=authorization_code&code=SplxlOBeZQQYbYS6WxSbIA\n&redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb\n",[2835],{"type":25,"tag":232,"props":2836,"children":2837},{"__ignoreMap":13},[2838],{"type":31,"value":2833},{"type":25,"tag":34,"props":2840,"children":2841},{},[2842],{"type":31,"value":2843},"(5) Access Token Response",{"type":25,"tag":34,"props":2845,"children":2846},{},[2847],{"type":31,"value":2848},"【Client】 \u003C- 【Token Endpoint】",{"type":25,"tag":34,"props":2850,"children":2851},{},[2852,2854,2861],{"type":31,"value":2853},"若 Access Token Request 合法且有經過授權，則核發 Access Token，同時可以核發 Refresh Token （非必備）。如果 Client 認證失敗，或 Request 不合法，則依照 ",{"type":25,"tag":1028,"props":2855,"children":2858},{"href":2856,"rel":2857},"https://datatracker.ietf.org/doc/html/rfc6749",[1032],[2859],{"type":31,"value":2860},"RFC 6749 Section 5.2",{"type":31,"value":2862}," 的規定回覆錯誤。",{"type":25,"tag":225,"props":2864,"children":2866},{"code":2865},"HTTP/1.1 200 OK\nContent-Type: application/json;charset=UTF-8\nCache-Control: no-store\nPragma: no-cache\n\n{\n  \"access_token\":\"2YotnFZFEjr1zCsicMWpAA\",\n  \"token_type\":\"example\",\n  \"expires_in\":3600,\n  \"refresh_token\":\"tGzv3JOkF0XG5Qx2TlKWIA\",\n  \"example_parameter\":\"example_value\"\n}\n",[2867],{"type":25,"tag":232,"props":2868,"children":2869},{"__ignoreMap":13},[2870],{"type":31,"value":2865},{"type":25,"tag":2872,"props":2873,"children":2875},"h5",{"id":2874},"implicit",[2876],{"type":25,"tag":172,"props":2877,"children":2878},{},[2879],{"type":31,"value":2421},{"type":25,"tag":2462,"props":2881,"children":2883},{"id":2882},"流程示意-1",[2884],{"type":31,"value":2464},{"type":25,"tag":34,"props":2886,"children":2887},{},[2888],{"type":31,"value":2889},"通常應用在SPA設計，整個應用程式都在前端運行，依需求向後端 API 取得資料。由於整個應用程式都在前端運行，所以會缺少「後端伺服器透過 Authorization Code Grant 交換 Access Token 」的步驟。取而代之的是請 Authorization Server 直接核發 Access Token。",{"type":25,"tag":34,"props":2891,"children":2892},{},[2893],{"type":31,"value":2894},"這邊要注意最終應用程式就能拿著 Access Token 向 Resource Server 取得資料。特別留意：不像 Authorization Code Flow，這邊是由前端獲得與管理 Access Token，並帶著 Access Token 發出請求前往取得資源，因此在安全性上「相對脆弱」。",{"type":25,"tag":34,"props":2896,"children":2897},{},[2898],{"type":25,"tag":1895,"props":2899,"children":2901},{"alt":13,"src":2900},"https://i.imgur.com/UMvZKO9.png",[],{"type":25,"tag":2462,"props":2903,"children":2905},{"id":2904},"詳細流程-1",[2906],{"type":31,"value":2481},{"type":25,"tag":34,"props":2908,"children":2909},{},[2910],{"type":31,"value":2488},{"type":25,"tag":34,"props":2912,"children":2913},{},[2914],{"type":31,"value":2915},"【Client】GET ->【Authorization Endpoint】",{"type":25,"tag":34,"props":2917,"children":2918},{},[2919],{"type":31,"value":2498},{"type":25,"tag":34,"props":2921,"children":2922},{},[2923],{"type":31,"value":2924},"把參數包在 URI 的 query component 裡面。",{"type":25,"tag":470,"props":2926,"children":2927},{},[2928,2942],{"type":25,"tag":474,"props":2929,"children":2930},{},[2931],{"type":25,"tag":478,"props":2932,"children":2933},{},[2934,2938],{"type":25,"tag":482,"props":2935,"children":2936},{},[2937],{"type":31,"value":2517},{"type":25,"tag":482,"props":2939,"children":2940},{"align":2394},[2941],{"type":31,"value":2522},{"type":25,"tag":494,"props":2943,"children":2944},{},[2945,2956,2967,2978,2989],{"type":25,"tag":478,"props":2946,"children":2947},{},[2948,2952],{"type":25,"tag":501,"props":2949,"children":2950},{},[2951],{"type":31,"value":2533},{"type":25,"tag":501,"props":2953,"children":2954},{"align":2394},[2955],{"type":31,"value":232},{"type":25,"tag":478,"props":2957,"children":2958},{},[2959,2963],{"type":25,"tag":501,"props":2960,"children":2961},{},[2962],{"type":31,"value":2545},{"type":25,"tag":501,"props":2964,"children":2965},{"align":2394},[2966],{"type":31,"value":2550},{"type":25,"tag":478,"props":2968,"children":2969},{},[2970,2974],{"type":25,"tag":501,"props":2971,"children":2972},{},[2973],{"type":31,"value":2558},{"type":25,"tag":501,"props":2975,"children":2976},{"align":2394},[2977],{"type":31,"value":2563},{"type":25,"tag":478,"props":2979,"children":2980},{},[2981,2985],{"type":25,"tag":501,"props":2982,"children":2983},{},[2984],{"type":31,"value":2571},{"type":25,"tag":501,"props":2986,"children":2987},{"align":2394},[2988],{"type":31,"value":2576},{"type":25,"tag":478,"props":2990,"children":2991},{},[2992,2996],{"type":25,"tag":501,"props":2993,"children":2994},{},[2995],{"type":31,"value":2584},{"type":25,"tag":501,"props":2997,"children":2998},{"align":2394},[2999],{"type":31,"value":2589},{"type":25,"tag":2462,"props":3001,"children":3003},{"id":3002},"authorization-server-的處理程序-1",[3004],{"type":31,"value":2789},{"type":25,"tag":34,"props":3006,"children":3007},{},[3008],{"type":31,"value":3009},"因為 Implicit Grant Flow 是直接在 Authorization Endpoint 發 Access Token ，所以資料驗證和授權都在這一步處理。所以這個 Request 進來的時候， Authorization Server 要做這些事：",{"type":25,"tag":34,"props":3011,"children":3012},{},[3013],{"type":31,"value":3014},"驗證所有必須給的參數都有給且合法",{"type":25,"tag":34,"props":3016,"children":3017},{},[3018],{"type":31,"value":3019},"Redirection URI 與預先在 Authorization Server 設定的相符。\n如果沒問題，就詢問 Resource Owner 是否授權，即 (B) 步驟",{"type":25,"tag":34,"props":3021,"children":3022},{},[3023],{"type":31,"value":2606},{"type":25,"tag":34,"props":3025,"children":3026},{},[3027],{"type":31,"value":3028},"【Client】 \u003C- 302【Authorization Endpoint】",{"type":25,"tag":34,"props":3030,"children":3031},{},[3032],{"type":31,"value":2616},{"type":25,"tag":34,"props":3034,"children":3035},{},[3036],{"type":31,"value":3037},"參數要用 URL Encoding 編起來，放在 Fragment Component 裡面。",{"type":25,"tag":34,"props":3039,"children":3040},{},[3041],{"type":31,"value":3042},"若 Access Token Request 合法且有經過授權，則核發 Access Token。如果 Client 認證失敗，或 Request 不合法，則依照 Section 5.2 的規定回覆錯誤。",{"type":25,"tag":34,"props":3044,"children":3045},{},[3046],{"type":31,"value":3047},"特別注意 Implicit Grant Type 禁止 核發 Refresh Token。",{"type":25,"tag":34,"props":3049,"children":3050},{},[3051],{"type":31,"value":3052},"某些 User-Agent 不支援 Fragment Redirection ，這種情況可以使用間接轉址，即是轉到一個頁面，放一個 “Continue” 的按鈕，按下去連到真正的 Redirection URI 。",{"type":25,"tag":470,"props":3054,"children":3055},{},[3056,3070],{"type":25,"tag":474,"props":3057,"children":3058},{},[3059],{"type":25,"tag":478,"props":3060,"children":3061},{},[3062,3066],{"type":25,"tag":482,"props":3063,"children":3064},{},[3065],{"type":31,"value":2517},{"type":25,"tag":482,"props":3067,"children":3068},{"align":2394},[3069],{"type":31,"value":2522},{"type":25,"tag":494,"props":3071,"children":3072},{},[3073,3086,3099,3111],{"type":25,"tag":478,"props":3074,"children":3075},{},[3076,3081],{"type":25,"tag":501,"props":3077,"children":3078},{},[3079],{"type":31,"value":3080},"access_token",{"type":25,"tag":501,"props":3082,"children":3083},{"align":2394},[3084],{"type":31,"value":3085},"即 Access Token",{"type":25,"tag":478,"props":3087,"children":3088},{},[3089,3094],{"type":25,"tag":501,"props":3090,"children":3091},{},[3092],{"type":31,"value":3093},"expires_in",{"type":25,"tag":501,"props":3095,"children":3096},{"align":2394},[3097],{"type":31,"value":3098},"建議有\t幾秒過期，如 3600 表示 10 分鐘。若要省略，最好在文件裡註明效期。",{"type":25,"tag":478,"props":3100,"children":3101},{},[3102,3106],{"type":25,"tag":501,"props":3103,"children":3104},{},[3105],{"type":31,"value":2584},{"type":25,"tag":501,"props":3107,"children":3108},{"align":2394},[3109],{"type":31,"value":3110},"Access Token 的授權範圍 (scopes)。",{"type":25,"tag":478,"props":3112,"children":3113},{},[3114,3118],{"type":25,"tag":501,"props":3115,"children":3116},{},[3117],{"type":31,"value":2558},{"type":25,"tag":501,"props":3119,"children":3120},{"align":2394},[3121],{"type":31,"value":3122},"原內部狀態。",{"type":25,"tag":34,"props":3124,"children":3125},{},[3126],{"type":31,"value":3127},"其中 scope 如果和 (1) 申請的不同則要附上，如果一樣的話就不必附上。",{"type":25,"tag":34,"props":3129,"children":3130},{},[3131],{"type":31,"value":3132},"其中 state 如果 (1) 的時候有附上，則 Resopnse 裡面必須有，完全一致的原值。如果原本就沒有，就不需要回傳。",{"type":25,"tag":34,"props":3134,"children":3135},{},[3136],{"type":31,"value":3137},"Access Token 的長度由 Authorization Server 定義，應寫在文件中， Client 不可以瞎猜。",{"type":25,"tag":34,"props":3139,"children":3140},{},[3141],{"type":31,"value":3142},"Client 遇到不認識的參數必須忽略。",{"type":25,"tag":225,"props":3144,"children":3146},{"code":3145},"HTTP/1.1 302 Found\nLocation: http://example.com/cb#access_token=2YotnFZFEjr1zCsicMWpAA\n          &state=xyz&token_type=example&expires_in=3600\n",[3147],{"type":25,"tag":232,"props":3148,"children":3149},{"__ignoreMap":13},[3150],{"type":31,"value":3145},{"type":25,"tag":2872,"props":3152,"children":3154},{"id":3153},"resource-owner-password-credentials",[3155],{"type":25,"tag":172,"props":3156,"children":3157},{},[3158],{"type":31,"value":2434},{"type":25,"tag":2462,"props":3160,"children":3162},{"id":3161},"流程示意-2",[3163],{"type":31,"value":2464},{"type":25,"tag":34,"props":3165,"children":3166},{},[3167],{"type":31,"value":3168},"由使用者提供帳號與密碼等資訊給應用程式，由應用程式直接向 Authorization Server 交換 Access Token，因此「必須是使用者高度信賴的應用程式」才適合使用，且唯有前兩種皆不可行時，才會考慮使用當前類型的流程。",{"type":25,"tag":34,"props":3170,"children":3171},{},[3172],{"type":31,"value":3173},"體驗上和以往的帳號密碼登入雷同。",{"type":25,"tag":34,"props":3175,"children":3176},{},[3177],{"type":25,"tag":1895,"props":3178,"children":3180},{"alt":13,"src":3179},"https://i.imgur.com/N9DUpEB.png",[],{"type":25,"tag":2462,"props":3182,"children":3184},{"id":3183},"流程細節",[3185],{"type":31,"value":3183},{"type":25,"tag":34,"props":3187,"children":3188},{},[3189],{"type":31,"value":3190},"(2,3) Authorization Request & Response",{"type":25,"tag":34,"props":3192,"children":3193},{},[3194],{"type":31,"value":3195},"在這個流程裡面， Authorization Grant 就是 Resource Owner 的帳號密碼，所以在 Step (A) 裡面直接向 Resource Onwer 索取，沒有經過網路來取得 Authorization。",{"type":25,"tag":34,"props":3197,"children":3198},{},[3199],{"type":31,"value":3200},"Spec 不規定 Client 要怎麼拿到帳號密碼，但是 Client 取得 Access Token 之後，必須把 Resource Owner 的帳號密碼給銷毀掉。",{"type":25,"tag":34,"props":3202,"children":3203},{},[3204],{"type":31,"value":3205},"(4) Access Token Request",{"type":25,"tag":34,"props":3207,"children":3208},{},[3209],{"type":31,"value":2716},{"type":25,"tag":470,"props":3211,"children":3212},{},[3213,3227],{"type":25,"tag":474,"props":3214,"children":3215},{},[3216],{"type":25,"tag":478,"props":3217,"children":3218},{},[3219,3223],{"type":25,"tag":482,"props":3220,"children":3221},{},[3222],{"type":31,"value":2517},{"type":25,"tag":482,"props":3224,"children":3225},{"align":2394},[3226],{"type":31,"value":2522},{"type":25,"tag":494,"props":3228,"children":3229},{},[3230,3242,3255,3267],{"type":25,"tag":478,"props":3231,"children":3232},{},[3233,3237],{"type":25,"tag":501,"props":3234,"children":3235},{},[3236],{"type":31,"value":2744},{"type":25,"tag":501,"props":3238,"children":3239},{"align":2394},[3240],{"type":31,"value":3241},"password",{"type":25,"tag":478,"props":3243,"children":3244},{},[3245,3250],{"type":25,"tag":501,"props":3246,"children":3247},{},[3248],{"type":31,"value":3249},"username",{"type":25,"tag":501,"props":3251,"children":3252},{"align":2394},[3253],{"type":31,"value":3254},"Resource Owner 的帳號",{"type":25,"tag":478,"props":3256,"children":3257},{},[3258,3262],{"type":25,"tag":501,"props":3259,"children":3260},{},[3261],{"type":31,"value":3241},{"type":25,"tag":501,"props":3263,"children":3264},{"align":2394},[3265],{"type":31,"value":3266},"Resource Owner 的密碼",{"type":25,"tag":478,"props":3268,"children":3269},{},[3270,3274],{"type":25,"tag":501,"props":3271,"children":3272},{},[3273],{"type":31,"value":2584},{"type":25,"tag":501,"props":3275,"children":3276},{"align":2394},[3277],{"type":31,"value":2589},{"type":25,"tag":2462,"props":3279,"children":3281},{"id":3280},"authorization-server-的處理程序-2",[3282],{"type":31,"value":2789},{"type":25,"tag":34,"props":3284,"children":3285},{},[3286],{"type":31,"value":3287},"這個 Request 進來的時候， Authorization Server 要做這些事：",{"type":25,"tag":34,"props":3289,"children":3290},{},[3291],{"type":31,"value":2797},{"type":25,"tag":34,"props":3293,"children":3294},{},[3295],{"type":31,"value":2802},{"type":25,"tag":2872,"props":3297,"children":3299},{"id":3298},"client-credentials",[3300],{"type":25,"tag":172,"props":3301,"children":3302},{},[3303],{"type":31,"value":2445},{"type":25,"tag":2462,"props":3305,"children":3307},{"id":3306},"流程示意-3",[3308],{"type":31,"value":2464},{"type":25,"tag":34,"props":3310,"children":3311},{},[3312],{"type":31,"value":3313},"通常是由應用程式向 Authourization Server 請求取得 Access Token 以獲取「自己」的相關資源，而非使用者的資源。",{"type":25,"tag":34,"props":3315,"children":3316},{},[3317],{"type":31,"value":3318},"這個流程已經跳脫使用者，因此，使用者身份驗證的流程將不再需要。取而代之的，是應用程式必須向 Authorization Server 提供驗證所需的自身資訊。",{"type":25,"tag":34,"props":3320,"children":3321},{},[3322],{"type":25,"tag":1895,"props":3323,"children":3325},{"alt":13,"src":3324},"https://i.imgur.com/uPeIjN5.png",[],{"type":25,"tag":2462,"props":3327,"children":3329},{"id":3328},"流程細節-1",[3330],{"type":31,"value":3183},{"type":25,"tag":34,"props":3332,"children":3333},{},[3334],{"type":31,"value":3335},"(1) Access Token Request",{"type":25,"tag":34,"props":3337,"children":3338},{},[3339],{"type":31,"value":2716},{"type":25,"tag":470,"props":3341,"children":3342},{},[3343,3357],{"type":25,"tag":474,"props":3344,"children":3345},{},[3346],{"type":25,"tag":478,"props":3347,"children":3348},{},[3349,3353],{"type":25,"tag":482,"props":3350,"children":3351},{},[3352],{"type":31,"value":2517},{"type":25,"tag":482,"props":3354,"children":3355},{"align":2394},[3356],{"type":31,"value":2522},{"type":25,"tag":494,"props":3358,"children":3359},{},[3360,3371],{"type":25,"tag":478,"props":3361,"children":3362},{},[3363,3367],{"type":25,"tag":501,"props":3364,"children":3365},{},[3366],{"type":31,"value":2744},{"type":25,"tag":501,"props":3368,"children":3369},{"align":2394},[3370],{"type":31,"value":3241},{"type":25,"tag":478,"props":3372,"children":3373},{},[3374,3378],{"type":25,"tag":501,"props":3375,"children":3376},{},[3377],{"type":31,"value":2584},{"type":25,"tag":501,"props":3379,"children":3380},{"align":2394},[3381],{"type":31,"value":2589},{"type":25,"tag":225,"props":3383,"children":3385},{"code":3384},"POST /token HTTP/1.1\nHost: server.example.com\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=client_credentials\n",[3386],{"type":25,"tag":232,"props":3387,"children":3388},{"__ignoreMap":13},[3389],{"type":31,"value":3384},{"type":25,"tag":34,"props":3391,"children":3392},{},[3393],{"type":31,"value":3394},"(2) Access Token Response",{"type":25,"tag":34,"props":3396,"children":3397},{},[3398],{"type":31,"value":3399},"【Client】POST \u003C- 【Token Endpoint】",{"type":25,"tag":34,"props":3401,"children":3402},{},[3403,3405,3411],{"type":31,"value":3404},"若 Access Token Request 合法且有經過授權，則核發 Access Token，但是最好不要核發 Refresh Token。如果 Client 認證失敗，或 Request 不合法，則依照的",{"type":25,"tag":1028,"props":3406,"children":3408},{"href":2856,"rel":3407},[1032],[3409],{"type":31,"value":3410},"RFC6749規定(Section5.2)",{"type":31,"value":3412},"回覆錯誤。",{"type":25,"tag":225,"props":3414,"children":3416},{"code":3415},"HTTP/1.1 200 OK\nContent-Type: application/json;charset=UTF-8\nCache-Control: no-store\nPragma: no-cache\n\n{\n  \"access_token\":\"2YotnFZFEjr1zCsicMWpAA\",\n  \"token_type\":\"example\",\n  \"expires_in\":3600,\n  \"example_parameter\":\"example_value\"\n}\n",[3417],{"type":25,"tag":232,"props":3418,"children":3419},{"__ignoreMap":13},[3420],{"type":31,"value":3415},{"type":25,"tag":146,"props":3422,"children":3424},{"id":3423},"簡易整理",[3425],{"type":31,"value":3423},{"type":25,"tag":34,"props":3427,"children":3428},{},[3429],{"type":25,"tag":1895,"props":3430,"children":3432},{"alt":13,"src":3431},"https://i.imgur.com/4cIcic1.png",[],{"type":25,"tag":146,"props":3434,"children":3436},{"id":3435},"doauth端點範例",[3437],{"type":31,"value":3438},"d.OAuth端點範例",{"type":25,"tag":34,"props":3440,"children":3441},{},[3442],{"type":31,"value":3443},"上述探討完四種認證流程形式，那實際使用OAuth時，端點的形式該如何設計?下述為常見的幾個有名的網站",{"type":25,"tag":34,"props":3445,"children":3446},{},[3447],{"type":25,"tag":1895,"props":3448,"children":3450},{"alt":13,"src":3449},"https://i.imgur.com/1pHhAR6.png",[],{"type":25,"tag":34,"props":3452,"children":3453},{},[3454,3456,3461],{"type":31,"value":3455},"書中筆者比較建議的方式是像",{"type":25,"tag":232,"props":3457,"children":3458},{"className":13},[3459],{"type":31,"value":3460},"/oauth2/token",{"type":31,"value":3462},"此種方式去設計，因為明確指出使用的是OAuth2.0，並且與RFC 6749給出的範例雷同。",{"type":25,"tag":34,"props":3464,"children":3465},{},[3466],{"type":31,"value":3467},"我們稍微看一下實際medium在索取facebook認證資訊時的內容如下圖，基本上也是照這邏輯下去設計",{"type":25,"tag":34,"props":3469,"children":3470},{},[3471],{"type":25,"tag":1895,"props":3472,"children":3474},{"alt":13,"src":3473},"https://i.imgur.com/0LUwjmj.png",[],{"type":25,"tag":34,"props":3476,"children":3477},{},[3478],{"type":25,"tag":1028,"props":3479,"children":3481},{"href":2856,"rel":3480},[1032],[3482],{"type":31,"value":3483},"OAuth2.0",{"type":25,"tag":34,"props":3485,"children":3486},{},[3487],{"type":25,"tag":1028,"props":3488,"children":3491},{"href":3489,"rel":3490},"https://blog.yorkxin.org/posts/oauth2-1-introduction.html",[1032],[3492],{"type":31,"value":3493},"OAuth 2.0 筆記",{"type":25,"tag":3495,"props":3496,"children":3497},"style",{},[3498],{"type":31,"value":3499},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":13,"searchDepth":402,"depth":402,"links":3501},[3502,3503,3504,3505,3508,3516],{"id":28,"depth":402,"text":32},{"id":141,"depth":402,"text":144},{"id":907,"depth":402,"text":910},{"id":1042,"depth":402,"text":1045,"children":3506},[3507],{"id":1583,"depth":598,"text":1586},{"id":1793,"depth":402,"text":1796,"children":3509},[3510,3511,3512,3513,3514,3515],{"id":1799,"depth":598,"text":1802},{"id":1969,"depth":598,"text":1972},{"id":2015,"depth":598,"text":2018},{"id":2044,"depth":598,"text":2047},{"id":2063,"depth":598,"text":2066},{"id":2098,"depth":598,"text":2098},{"id":2200,"depth":402,"text":2203,"children":3517},[3518,3520,3521,3522,3523],{"id":2211,"depth":598,"text":3519},"2.6. 陽春認證",{"id":2264,"depth":598,"text":2267},{"id":2332,"depth":598,"text":2335},{"id":2361,"depth":598,"text":2364},{"id":2453,"depth":598,"text":3524},"2.10 Authorization Code","markdown","content:3.web-api:chapter2.md","content","3.web-api/chapter2.md","md","default",["ShallowRef",3532],["ShallowReactive",3533],{"/web-api/chapter2":3534},[3535,3542],{"_path":3536,"_dir":3537,"_draft":6,"_partial":6,"_locale":13,"title":3538,"description":3539,"_type":3525,"_id":3540,"_source":3527,"_file":3541,"_extension":3529},"/api/layouts","api","Layouts","Docus provides multiple built-in layouts for displaying your Markdown pages.","content:1.api:3.layouts.md","1.api/3.layouts.md",{"_path":3543,"_dir":12,"_draft":6,"_partial":6,"_locale":13,"title":3544,"description":3544,"position":3545,"category":16,"menuTitle":3546,"contributors":3547,"_type":3525,"_id":3549,"_source":3527,"_file":3550,"_extension":3529},"/web-api/chapter5","第5章 開發方便更改設計的API",95,"Chapter 05",[3548],"cshs108","content:3.web-api:chapter5.md","3.web-api/chapter5.md",["ShallowRef",3552],{},[3554,3566,3575,3612],{"title":3555,"_path":3556,"children":3557,"icon":3565},"API","/api",[3558,3561,3564],{"title":3559,"_path":3560},"Components","/api/components",{"title":3562,"_path":3563},"Composables","/api/composables",{"title":3538,"_path":3536},"heroicons-outline:bookmark-alt",{"title":3567,"_path":3568,"children":3569},"Web Api","/web-api",[3570,3571,3572],{"title":14,"_path":11},{"title":3544,"_path":3543},{"title":3573,"_path":3574},"第6章開發牢固的WebAPI","/web-api/chapter6",{"title":3576,"_path":3577,"children":3578,"icon":3565},"持續交付2.0","/cicd-2.0",[3579,3582,3585,3588,3591,3594,3597,3600,3603,3606,3609],{"title":3580,"_path":3581},"05 持續交付的軟體系統架構","/cicd-2.0/chapter5",{"title":3583,"_path":3584},"07 部署流水線原則與工具設計","/cicd-2.0/chapter7",{"title":3586,"_path":3587},"08 利於集成的分支策略","/cicd-2.0/chapter8",{"title":3589,"_path":3590},"09 持續整合","/cicd-2.0/chapter9",{"title":3592,"_path":3593},"Chapter 10 自動化測試策略與方法","/cicd-2.0/chapter10",{"title":3595,"_path":3596},"Chapter 11 軟件配置管理","/cicd-2.0/chapter11",{"title":3598,"_path":3599},"Chapter 12 低風險發佈","/cicd-2.0/chapter12",{"title":3601,"_path":3602},"Chapter 13 監測與決策","/cicd-2.0/chapter13",{"title":3604,"_path":3605},"Chapter 16 研發推動的DevOps","/cicd-2.0/chapter16",{"title":3607,"_path":3608},"Appendix 00 使用Gitlab做CI/CD","/cicd-2.0/appendix00",{"title":3610,"_path":3611},"Appendix 01 Database Version Control","/cicd-2.0/appendix01",{"title":3613,"_path":3614,"children":3615,"icon":3565},"資料密集型應用系統設計","/ddia",[3616,3619,3622,3625,3628,3631],{"title":3617,"_path":3618},"Appendix 00 Redis快速入門","/ddia/appendix00",{"title":3620,"_path":3621},"Appendix 01 gRPC快速入門","/ddia/appendix01",{"title":3623,"_path":3624},"Chapter 01 可靠性、可伸縮性和可維護性","/ddia/chapter1",{"title":3626,"_path":3627},"Chapter 03 數據儲存與檢索","/ddia/chapter3",{"title":3629,"_path":3630},"Chapter 04 編碼與演化","/ddia/chapter4",{"title":3632,"_path":3633},"Chapter 05 複製","/ddia/chapter5",{"heroicons-outline:menu":3635,"heroicons-outline:bookmark-alt":3639,"lucide:chevrons-down-up":3641,"heroicons-outline:arrow-sm-left":3643,"heroicons-outline:arrow-sm-right":3645,"heroicons-outline:chevron-right":3647,"ph:copy":3649,"heroicons-outline:search":3652},{"left":3636,"top":3636,"width":3637,"height":3637,"rotate":3636,"vFlip":6,"hFlip":6,"body":3638},0,24,"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"/>",{"left":3636,"top":3636,"width":3637,"height":3637,"rotate":3636,"vFlip":6,"hFlip":6,"body":3640},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 4v12l-4-2l-4 2V4M6 20h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2Z\"/>",{"left":3636,"top":3636,"width":3637,"height":3637,"rotate":3636,"vFlip":6,"hFlip":6,"body":3642},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m7 20l5-5l5 5M7 4l5 5l5-5\"/>",{"left":3636,"top":3636,"width":3637,"height":3637,"rotate":3636,"vFlip":6,"hFlip":6,"body":3644},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m11 17l-5-5m0 0l5-5m-5 5h12\"/>",{"left":3636,"top":3636,"width":3637,"height":3637,"rotate":3636,"vFlip":6,"hFlip":6,"body":3646},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m13 7l5 5m0 0l-5 5m5-5H6\"/>",{"left":3636,"top":3636,"width":3637,"height":3637,"rotate":3636,"vFlip":6,"hFlip":6,"body":3648},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m9 5l7 7l-7 7\"/>",{"left":3636,"top":3636,"width":3650,"height":3650,"rotate":3636,"vFlip":6,"hFlip":6,"body":3651},256,"\u003Cpath fill=\"currentColor\" d=\"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z\"/>",{"left":3636,"top":3636,"width":3637,"height":3637,"rotate":3636,"vFlip":6,"hFlip":6,"body":3653},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m21 21l-6-6m2-5a7 7 0 1 1-14 0a7 7 0 0 1 14 0Z\"/>",{"parentPath":3568,"scrollTop":3636},{},{},{},{},{},["Reactive",3661],{"search-api":3662},null,1700488057008]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{baseURL:"/code-study-test",mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1700488023028,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:["icon","titleTemplate","header","main","aside","footer","layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:{dark:"github-dark",default:"github-light"},preload:["json","js","ts","html","css","vue","diff","shell","markdown","yaml","bash","ini"]},wsUrl:"",documentDriven:{page:true,navigation:true,surround:true,globals:{},layoutFallbacks:["theme"],injectPage:true},host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}},studio:{apiURL:"https://api.nuxt.studio"}},app:{baseURL:"/code-study-test",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body>
</html>